<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheel of Fortune - 1987 DOS Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            --dos-bg: #000000;
            --dos-fg: #AAAAAA;
            --dos-cyan: #55FFFF;
            --dos-magenta: #FF55FF;
            --dos-green: #00AA00;
            --dos-bright-green: #55FF55;
            --dos-blue: #0000AA;
            --dos-yellow: #FFFF55;
            --dos-red: #FF5555;
            --dos-white: #FFFFFF;
        }

        body {
            background-color: var(--dos-bg);
            color: var(--dos-white);
            font-family: 'VT323', monospace;
            margin: 0;
            padding: 0;
            overflow: hidden;
            user-select: none;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        #game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            max-width: 1024px;
            margin: 0 auto;
            width: 100%;
            border: 4px double var(--dos-fg);
            box-sizing: border-box;
            background-image: radial-gradient(#000033 10%, #000000 90%);
        }

        /* Screens */
        .screen {
            display: none;
            flex-direction: column;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .active-screen {
            display: flex;
        }

        /* Typography */
        h1 {
            color: var(--dos-yellow);
            text-shadow: 4px 4px var(--dos-red);
            font-size: 4rem;
            margin: 0 0 20px 0;
            text-transform: uppercase;
            text-align: center;
            line-height: 1;
        }

        h2 {
            color: var(--dos-cyan);
            font-size: 2rem;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        h3 {
            color: var(--dos-magenta);
            margin: 10px 0;
        }

        .blink {
            animation: blinker 1s linear infinite;
        }

        @keyframes blinker {
            50% { opacity: 0; }
        }

        /* Buttons & Inputs */
        button {
            background: var(--dos-blue);
            color: var(--dos-white);
            border: 2px solid var(--dos-cyan);
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            padding: 8px 16px;
            cursor: pointer;
            margin: 5px;
            text-transform: uppercase;
            box-shadow: 4px 4px 0px #000;
            position: relative;
        }

        button:hover {
            background: var(--dos-cyan);
            color: var(--dos-blue);
            transform: translate(1px, 1px);
            box-shadow: 3px 3px 0px #000;
        }

        button:active {
            transform: translate(3px, 3px);
            box-shadow: 1px 1px 0px #000;
        }

        button:disabled {
            background: #333;
            border-color: #555;
            color: #777;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-small {
            font-size: 1rem;
            padding: 4px 8px;
        }

        .btn-danger {
            border-color: var(--dos-red);
            background: #500;
        }

        input[type="text"] {
            background: var(--dos-bg);
            color: var(--dos-bright-green);
            border: 2px solid var(--dos-green);
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            padding: 5px;
            text-transform: uppercase;
            width: 200px;
        }

        label {
            font-size: 1.3rem;
            margin-right: 10px;
        }

        /* Game Board */
        #board-area {
            flex: 2;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            perspective: 800px;
        }

        #puzzle-board {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: center;
            gap: 6px;
            background: var(--dos-blue);
            padding: 20px;
            border: 4px solid var(--dos-yellow);
            max-width: 90%;
            width: 700px; /* Enforce width for grid calculation */
            box-shadow: 0 0 20px rgba(0,0,255,0.5);
            z-index: 10; /* Ensure board is above Vanna */
            position: relative;
        }

        .row-break {
            flex-basis: 100%;
            height: 0;
        }

        .tile {
            width: 36px;
            height: 48px;
            background-color: var(--dos-green);
            border: 2px solid var(--dos-white);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.2rem;
            color: black;
            font-weight: bold;
            transition: transform 0.3s, background-color 0.3s;
        }

        .tile.empty {
            background-color: var(--dos-green);
        }

        .tile.used {
            background-color: var(--dos-white);
        }

        .tile.revealed {
            background-color: var(--dos-white);
            animation: flipIn 0.5s;
        }

        @keyframes flipIn {
            0% { transform: rotateY(90deg); }
            100% { transform: rotateY(0deg); }
        }

        .tile.space {
            background-color: transparent;
            border: none;
        }

        /* Controls Area */
        #controls-area {
            flex: 1;
            width: 100%;
            display: flex;
            border-top: 4px double var(--dos-fg);
            background: #000;
            min-height: 200px;
        }

        #wheel-container {
            width: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            background: #111;
            overflow: hidden;
            border-right: 2px solid var(--dos-fg);
        }

        #wheel-canvas {
            width: 230px;
            height: 230px;
            border-radius: 50%;
            border: 5px solid var(--dos-yellow);
        }

        #wheel-pointer {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0; 
            height: 0; 
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid var(--dos-red);
            z-index: 10;
            filter: drop-shadow(0 2px 2px #000);
        }

        #center-play-area {
            flex: 2;
            display: flex;
            flex-direction: column;
            padding: 5px;
        }

        #player-area {
            width: 220px;
            display: flex;
            flex-direction: column;
            padding: 5px;
            border-left: 2px solid var(--dos-fg);
            background: #050505;
            overflow-y: auto;
        }

        .player-card {
            display: flex;
            align-items: center;
            padding: 5px;
            border: 1px solid #333;
            margin-bottom: 5px;
            opacity: 0.5;
            transition: all 0.3s;
        }

        .player-card.active {
            opacity: 1;
            border: 2px solid var(--dos-yellow);
            background: #222;
            box-shadow: 0 0 10px rgba(255, 255, 85, 0.2);
        }

        .player-avatar {
            width: 40px;
            height: 40px;
            background: #333;
            margin-right: 8px;
            object-fit: cover;
            border: 1px solid var(--dos-white);
        }

        .player-info {
            flex: 1;
            overflow: hidden;
        }

        .player-name {
            font-size: 1rem;
            color: var(--dos-cyan);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .player-score {
            font-size: 1.1rem;
            color: var(--dos-yellow);
        }

        /* Letter Board */
        #letter-board {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 4px;
            padding: 5px;
            margin-bottom: 5px;
        }

        .letter-btn {
            width: 30px;
            height: 30px;
            font-size: 1.2rem;
            padding: 0;
            margin: 1px;
        }

        /* Vanna - FIXED */
        #vanna-container {
            position: absolute;
            right: -50px; /* Moved further right */
            top: 50%;
            transform: translateY(-50%) scale(0.85); /* Scaled down slightly */
            height: 70%;
            z-index: 0; /* Behind board */
            pointer-events: none;
            opacity: 0.7; /* Slightly more transparent */
        }
        
        #vanna-img {
            height: 100%;
            filter: contrast(1.1) brightness(0.9);
        }

        /* Category Header */
        #category-display {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dos-blue);
            color: var(--dos-white);
            padding: 5px 20px;
            border: 2px solid var(--dos-white);
            font-size: 1.5rem;
            z-index: 20;
            white-space: nowrap;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
        }

        /* Message Log */
        #message-log {
            height: 30px;
            background: #222;
            color: var(--dos-bright-green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            border-top: 1px solid #555;
            border-bottom: 1px solid #555;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Player Setup List */
        #setup-player-list {
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .setup-row {
            display: flex;
            align-items: center;
            background: #111;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #444;
            gap: 10px;
        }
        
        .setup-avatar-preview {
            width: 60px;
            height: 60px;
            border: 2px solid var(--dos-white);
            object-fit: cover;
            cursor: pointer;
        }

        /* Character Select Modal (Sub-screen) */
        #modal-char-select {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 200;
            display: none;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-y: auto;
        }

        #char-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 800px;
        }

        .char-select-card {
            border: 2px solid #555;
            padding: 5px;
            cursor: pointer;
            text-align: center;
            background: #111;
            transition: border-color 0.2s;
        }

        .char-select-card:hover {
            border-color: var(--dos-cyan);
        }

        .char-select-card.selected {
            border-color: var(--dos-yellow);
            background: #222;
        }

        .char-select-img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            margin-bottom: 5px;
        }

        /* Modal for Solving/Prizes */
        #modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        #modal-content {
            background: var(--dos-blue);
            border: 4px solid var(--dos-yellow);
            padding: 20px;
            text-align: center;
            max-width: 80%;
            box-shadow: 10px 10px 0 #000;
            position: relative;
        }

        #prize-image {
            max-width: 300px;
            max-height: 300px;
            border: 4px solid var(--dos-white);
            margin: 10px auto;
            display: block;
            object-fit: contain;
        }

        /* Prize Selection Screen in Modal */
        #prize-selection-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .prize-box {
            width: 100px;
            height: 120px;
            background: var(--dos-magenta);
            border: 3px solid var(--dos-white);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 3rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .prize-box:hover {
            transform: scale(1.1);
            background: var(--dos-cyan);
        }

        .hidden { display: none !important; }

        /* Confetti Canvas */
        #confetti-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--dos-fg); border: 1px solid #000; }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            #game-container { border: none; height: 100vh; }
            #controls-area { flex-direction: column; height: auto; padding-bottom: 20px; }
            #wheel-container { width: 100%; height: 150px; border-right: none; border-bottom: 2px solid #333; padding: 10px 0; }
            #wheel-canvas { width: 140px; height: 140px; }
            #center-play-area { order: 2; }
            #player-area { order: 3; width: 100%; flex-direction: row; overflow-x: auto; border-left: none; border-top: 2px solid #333; height: 70px; }
            .player-card { min-width: 150px; margin-right: 5px; margin-bottom: 0; }
            .tile { width: 20px; height: 30px; font-size: 1.2rem; border-width: 1px; }
            #vanna-container { display: none; }
            #category-display { font-size: 1rem; width: 90%; white-space: normal; text-align: center; }
            #puzzle-board { width: 95%; padding: 5px; }
        }
    </style>
</head>
<body>

<div id="game-container">
    <canvas id="confetti-canvas"></canvas>

    <!-- Title Screen -->
    <div id="screen-title" class="screen active-screen">
        <h1>Wheel of Fortune</h1>
        <h2 style="color: var(--dos-magenta)">Inspired by DOS Edition 1987</h2>
        <div style="margin-top: 40px; text-align: center;">
            <p style="color: var(--dos-cyan); margin-bottom: 20px;">Created Using Gemini</p>
            <button onclick="Game.goToSetup()">START NEW GAME</button>
        </div>
        <p class="blink" style="margin-top: 30px; color: var(--dos-bright-green)">CLICK TO START</p>
    </div>

    <!-- Game Setup Screen -->
    <div id="screen-setup" class="screen">
        <h2>Game Setup</h2>
        
        <div style="margin-bottom: 20px; border: 1px solid #333; padding: 10px;">
            <label><input type="checkbox" id="chk-online-puzzles"> Enable AI Generated Puzzles (Online)</label>
            <div style="font-size: 0.8rem; color: #777;">Uncheck to use fast local puzzles.</div>
        </div>

        <h3>Players</h3>
        <div id="setup-player-list">
            <!-- Dynamic rows will go here -->
        </div>

        <button onclick="UI.addSetupRow()" class="btn-small" style="margin-bottom: 20px;">+ Add Player</button>

        <div style="display: flex; gap: 20px; margin-top: 20px;">
            <button onclick="UI.showScreen('screen-title')" class="btn-danger">Back</button>
            <button onclick="Game.finalizeSetup()" style="border-color: var(--dos-yellow); color: var(--dos-yellow);">PLAY GAME</button>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="screen-game" class="screen" style="justify-content: flex-start; padding: 0; overflow: hidden;">
        <div id="board-area">
            <div id="category-display">CATEGORY</div>
            <div id="puzzle-board"></div>
            <div id="vanna-container">
                <img id="vanna-img" src="https://enter.pollinations.ai/api/generate/image/remove%20the%20words%20and%20board%20from%20the%20image%20so%20that%20only%20the%20girl%20and%20the%20star%20background%20are%20present?model=nanobanana&seed=233235637&private=true&nologo=true&width=1024&height=1600&image=https%3A%2F%2Fenter.pollinations.ai%2Fapi%2Fgenerate%2Fimage%2Fa%2520simple%252C%2520proper%252C%2520simple%2520anime%2520version%2520of%2520Vanna%2520White%2520%3Fmodel%3Dnanobanana%26seed%3D791517235%26private%3Dtrue%26nologo%3Dtrue%26width%3D1024%26height%3D1024" alt="Vanna">
            </div>
        </div>
        
        <div id="message-log">Welcome to Wheel of Fortune!</div>

        <div id="controls-area">
            <div id="wheel-container">
                <div id="wheel-pointer"></div>
                <canvas id="wheel-canvas" width="230" height="230"></canvas>
            </div>
            
            <div id="center-play-area">
                <div id="letter-board"></div>
                <div style="display: flex; justify-content: center; gap: 10px; padding: 5px; flex-wrap: wrap;">
                    <button id="btn-spin" onclick="Game.spinWheel()">SPIN</button>
                    <button id="btn-buy" onclick="Game.buyVowel()">BUY VOWEL ($250)</button>
                    <button id="btn-solve" onclick="Game.promptSolve()">SOLVE</button>
                    <button id="btn-quit" onclick="Game.quitGame()" class="btn-danger" style="margin-left: auto;">QUIT</button>
                </div>
            </div>

            <div id="player-area"></div>
        </div>
    </div>

    <!-- Character Selection Modal -->
    <div id="modal-char-select">
        <h2 style="position: sticky; top: 0; background: rgba(0,0,0,0.9); width: 100%; text-align: center; padding: 10px; z-index: 10;">Choose Avatar</h2>
        
        <div style="background: #222; padding: 15px; margin-bottom: 20px; border: 1px solid var(--dos-cyan); text-align: center; width: 100%; max-width: 500px;">
            <h3>Create New Avatar</h3>
            <input type="text" id="new-char-desc" placeholder="Ex: A futuristic robot cowboy" style="width: 70%;">
            <button onclick="Game.createNewCharacter()" class="btn-small">Generate</button>
            <div id="gen-status" style="font-size: 0.8rem; color: #888;"></div>
        </div>

        <div id="char-grid"></div>
        <button onclick="document.getElementById('modal-char-select').style.display='none'" style="margin-top: 20px; position: sticky; bottom: 20px;">Cancel</button>
    </div>

    <!-- Modal Overlay (Prizes/Solve) -->
    <div id="modal-overlay">
        <div id="modal-content">
            <h2 id="modal-title">TITLE</h2>
            <div id="modal-body" style="font-size: 1.2rem; margin-bottom: 15px; white-space: pre-wrap;"></div>
            
            <img id="prize-image" class="hidden" src="" alt="Prize" onerror="this.style.display='none'">
            
            <div id="prize-selection-container" class="hidden">
                <div class="prize-box" onclick="Game.selectBonusPrize(0)">?</div>
                <div class="prize-box" onclick="Game.selectBonusPrize(1)">?</div>
                <div class="prize-box" onclick="Game.selectBonusPrize(2)">?</div>
            </div>

            <div style="margin-top: 20px;">
                <input type="text" id="solve-input" class="hidden" placeholder="TYPE ANSWER HERE">
                <button id="modal-btn-ok" onclick="UI.closeModal()">OK</button>
                <button id="modal-btn-solve-submit" class="hidden" onclick="Game.submitSolve()">SUBMIT</button>
            </div>
        </div>
    </div>
</div>

<script>
/**
 * DATA SOURCES
 */
const DATA_PUZZLES = {
  "puzzles": [
    { "category": "Phrase", "answer": "A WHALE OF A TIME" },
    { "category": "Phrase", "answer": "THE DEVIL IS IN THE DETAILS" },
    { "category": "Phrase", "answer": "BETTER LATE THAN NEVER" },
    { "category": "Phrase", "answer": "CATCH TWENTY TWO" },
    { "category": "Phrase", "answer": "PIECE OF CAKE" },
    { "category": "Phrase", "answer": "ONCE IN A BLUE MOON" },
    { "category": "Phrase", "answer": "ACTIONS SPEAK LOUDER THAN WORDS" },
    { "category": "Phrase", "answer": "EVERY CLOUD HAS A SILVER LINING" },
    { "category": "Phrase", "answer": "HIT THE NAIL ON THE HEAD" },
    { "category": "Phrase", "answer": "WHEN IT RAINS IT POURS" },
    { "category": "Phrase", "answer": "NO PAIN NO GAIN" },
    // --- New Puzzles from WoF Puzzles.json (excluding duplicates) ---
    { "category": "Phrase", "answer": "GETTING A HEAD START" },
    { "category": "Phrase", "answer": "IN THE NICK OF TIME" },
    { "category": "Phrase", "answer": "THE LION'S SHARE" },
    { "category": "Phrase", "answer": "THE BALL IS IN YOUR COURT" },
    { "category": "Phrase", "answer": "BARKING UP THE WRONG TREE" },
    { "category": "Phrase", "answer": "BITE THE BULLET" },
    { "category": "Phrase", "answer": "BREAK A LEG" },
    { "category": "Phrase", "answer": "COST AN ARM AND A LEG" },
    { "category": "Phrase", "answer": "CUTTING CORNERS" },
    { "category": "Phrase", "answer": "DON'T JUDGE A BOOK BY ITS COVER" },
    { "category": "Phrase", "answer": "GET OFF YOUR HIGH HORSE" },
    { "category": "Phrase", "answer": "JUMP ON THE BANDWAGON" },
    { "category": "Phrase", "answer": "LET THE CAT OUT OF THE BAG" },
    { "category": "Phrase", "answer": "MAKE A LONG STORY SHORT" },
    { "category": "Phrase", "answer": "PUTTING ALL YOUR EGGS IN ONE BASKET" },
    { "category": "Phrase", "answer": "SEE EYE TO EYE" },
    { "category": "Phrase", "answer": "SPEAK OF THE DEVIL" },
    { "category": "Phrase", "answer": "TAKE IT WITH A GRAIN OF SALT" },
    { "category": "Phrase", "answer": "TASTE OF YOUR OWN MEDICINE" },
    { "category": "Phrase", "answer": "WALKING ON THIN ICE" },
    { "category": "Phrase", "answer": "YOU CAN'T HAVE YOUR CAKE AND EAT IT TOO" },
    { "category": "Phrase", "answer": "CROSS THAT BRIDGE WHEN YOU COME TO IT" },
    { "category": "Phrase", "answer": "GET YOUR ACT TOGETHER" },
    { "category": "Phrase", "answer": "HANG IN THERE" },
    { "category": "Phrase", "answer": "HEAD OVER HEELS" },
    { "category": "Phrase", "answer": "HEART OF GOLD" },
    { "category": "Phrase", "answer": "IN HOT WATER" },
    { "category": "Phrase", "answer": "LIGHT AT THE END OF THE TUNNEL" },
    { "category": "Phrase", "answer": "LOSE YOUR TOUCH" },
    { "category": "Phrase", "answer": "MISS THE BOAT" },
    { "category": "Phrase", "answer": "ON CLOUD NINE" },
    { "category": "Phrase", "answer": "RAIN ON SOMEONE'S PARADE" },
    { "category": "Phrase", "answer": "SLEEP ON IT" },
    { "category": "Phrase", "answer": "STRIKE WHILE THE IRON IS HOT" },
    { "category": "Phrase", "answer": "THE JURY IS STILL OUT" },
    { "category": "Phrase", "answer": "TIME FLIES WHEN YOU'RE HAVING FUN" },
    { "category": "Phrase", "answer": "UP IN THE AIR" },
    { "category": "Phrase", "answer": "WASTE NOT WANT NOT" },
    { "category": "Phrase", "answer": "A DIME A DOZEN" },
    { "category": "Occupation", "answer": "SOFTWARE DEVELOPER" },
    { "category": "Occupation", "answer": "LANDSCAPE ARCHITECT" },
    { "category": "Occupation", "answer": "VETERINARY TECHNICIAN" },
    { "category": "Occupation", "answer": "FIREFIGHTER" },
    { "category": "Occupation", "answer": "ASTRONAUT" },
    { "category": "Occupation", "answer": "CHEF" },
    { "category": "Occupation", "answer": "PLUMBER" },
    { "category": "Occupation", "answer": "NURSE PRACTITIONER" },
    { "category": "Occupation", "answer": "JOURNALIST" },
    { "category": "Occupation", "answer": "CIVIL ENGINEER" },
    { "category": "Occupation", "answer": "TEACHER" },
    { "category": "Occupation", "answer": "DENTAL HYGIENIST" },
    { "category": "Occupation", "answer": "ELECTRICIAN" },
    { "category": "Occupation", "answer": "FINANCIAL ANALYST" },
    { "category": "Occupation", "answer": "MARKETING MANAGER" },
    { "category": "Occupation", "answer": "POLICE OFFICER" },
    { "category": "Occupation", "answer": "LIBRARIAN" },
    { "category": "Occupation", "answer": "GEOLOGIST" },
    { "category": "Occupation", "answer": "AIR TRAFFIC CONTROLLER" },
    { "category": "Occupation", "answer": "CARPENTER" },
    { "category": "Occupation", "answer": "PHYSICAL THERAPIST" },
    { "category": "Occupation", "answer": "COMMERCIAL PILOT" },
    { "category": "Occupation", "answer": "REAL ESTATE AGENT" },
    { "category": "Occupation", "answer": "GRAPHIC DESIGNER" },
    { "category": "Occupation", "answer": "PARAMEDIC" },
    { "category": "Occupation", "answer": "METEOROLOGIST" },
    { "category": "Occupation", "answer": "ARCHITECT" },
    { "category": "Occupation", "answer": "ACCOUNTANT" },
    { "category": "Occupation", "answer": "WELDER" },
    { "category": "Occupation", "answer": "COURT REPORTER" },
    { "category": "Occupation", "answer": "WEB DESIGNER" },
    { "category": "Occupation", "answer": "PHARMACIST" },
    { "category": "Occupation", "answer": "FLIGHT ATTENDANT" },
    { "category": "Occupation", "answer": "SURVEYOR" },
    { "category": "Occupation", "answer": "BIOMEDICAL SCIENTIST" },
    { "category": "Occupation", "answer": "SPEECH THERAPIST" },
    { "category": "Occupation", "answer": "BANK TELLER" },
    { "category": "Occupation", "answer": "HUMAN RESOURCES MANAGER" },
    { "category": "Occupation", "answer": "INDUSTRIAL DESIGNER" },
    { "category": "Occupation", "answer": "BOOKKEEPER" },
    { "category": "Occupation", "answer": "TAXI DRIVER" },
    { "category": "Occupation", "answer": "LOCKSMITH" },
    { "category": "Occupation", "answer": "OPTOMETRIST" },
    { "category": "Occupation", "answer": "POSTAL WORKER" },
    { "category": "Occupation", "answer": "MUSIC PRODUCER" },
    { "category": "Occupation", "answer": "SOCIAL WORKER" },
    { "category": "Occupation", "answer": "ELECTRICIAN'S APPRENTICE" },
    { "category": "Occupation", "answer": "PARK RANGER" },
    { "category": "Occupation", "answer": "VETERINARIAN" },
    { "category": "Occupation", "answer": "CRITICAL CARE PHYSICIAN" },
    { "category": "Person", "answer": "AMELIA EARHART" },
    { "category": "Person", "answer": "MARIE CURIE" },
    { "category": "Person", "answer": "ALBERT EINSTEIN" },
    { "category": "Person", "answer": "OPRAH WINFREY" },
    { "category": "Person", "answer": "WILLIAM SHAKESPEARE" },
    { "category": "Person", "answer": "LEONARDO DA VINCI" },
    { "category": "Person", "answer": "MARTIN LUTHER KING JUNIOR" },
    { "category": "Person", "answer": "ELON MUSK" },
    { "category": "Person", "answer": "MALALA YOUSAFZAI" },
    { "category": "Person", "answer": "NELSON MANDELA" },
    { "category": "Person", "answer": "QUEEN ELIZABETH THE SECOND" },
    { "category": "Person", "answer": "GEORGE WASHINGTON" },
    { "category": "Person", "answer": "VINCENT VAN GOGH" },
    { "category": "Person", "answer": "JANE AUSTEN" },
    { "category": "Person", "answer": "STEPHEN HAWKING" },
    { "category": "Person", "answer": "MICHELANGELO" },
    { "category": "Person", "answer": "MOTHER TERESA" },
    { "category": "Person", "answer": "WINSTON CHURCHILL" },
    { "category": "Person", "answer": "HEDY LAMARR" },
    { "category": "Person", "answer": "BENJAMIN FRANKLIN" },
    { "category": "Person", "answer": "ABRAHAM LINCOLN" },
    { "category": "Person", "answer": "HARRIET TUBMAN" },
    { "category": "Person", "answer": "MAHATMA GANDHI" },
    { "category": "Person", "answer": "J F KENNEDY" },
    { "category": "Person", "answer": "ROSA PARKS" },
    { "category": "Person", "answer": "BEETHOVEN" },
    { "category": "Person", "answer": "CHOPIN" },
    { "category": "Person", "answer": "MOZART" },
    { "category": "Person", "answer": "TAYLOR SWIFT" },
    { "category": "Person", "answer": "MICHAEL JORDAN" },
    { "category": "Person", "answer": "WALT DISNEY" },
    { "category": "Person", "answer": "MARK TWAIN" },
    { "category": "Person", "answer": "ERNEST HEMINGWAY" },
    { "category": "Person", "answer": "F SCOTT FITZGERALD" },
    { "category": "Person", "answer": "CHARLES DICKENS" },
    { "category": "Person", "answer": "J K ROWLING" },
    { "category": "Person", "answer": "STEVEN SPIELBERG" },
    { "category": "Person", "answer": "GEORGE LUCAS" },
    { "category": "Person", "answer": "BILL GATES" },
    { "category": "Person", "answer": "JEFF BEZOS" },
    { "category": "Person", "answer": "TIM COOK" },
    { "category": "Person", "answer": "WARREN BUFFETT" },
    { "category": "Person", "answer": "JACKIE ROBINSON" },
    { "category": "Person", "answer": "BABE RUTH" },
    { "category": "Person", "answer": "SERENA WILLIAMS" },
    { "category": "Person", "answer": "LIONEL MESSI" },
    { "category": "Person", "answer": "PELE" },
    { "category": "Person", "answer": "MUHAMMAD ALI" },
    { "category": "Person", "answer": "BARACK OBAMA" },
    { "category": "Person", "answer": "ANGELA MERKEL" },
    { "category": "Activity", "answer": "BAKING APPLE PIE" },
    { "category": "Activity", "answer": "LEARNING TO PLAY THE UKULELE" },
    { "category": "Activity", "answer": "MOUNTAIN BIKING DOWN A SLOPE" },
    { "category": "Activity", "answer": "SOLVING A RUBIK'S CUBE" },
    { "category": "Activity", "answer": "GOING FOR A LONG HIKE" },
    { "category": "Activity", "answer": "KNITTING A SCARF" },
    { "category": "Activity", "answer": "WRITING A POEM" },
    { "category": "Activity", "answer": "PAINTING A SUNSET" },
    { "category": "Activity", "answer": "VISITING A MUSEUM" },
    { "category": "Activity", "answer": "KAYAKING ON A RIVER" },
    { "category": "Activity", "answer": "COOKING DINNER FOR FRIENDS" },
    { "category": "Activity", "answer": "PLAYING A BOARD GAME" },
    { "category": "Activity", "answer": "TENDING A GARDEN" },
    { "category": "Activity", "answer": "PRACTICING YOGA" },
    { "category": "Activity", "answer": "TAKING A PHOTOGRAPHY CLASS" },
    { "category": "Activity", "answer": "STARGAZING WITH A TELESCOPE" },
    { "category": "Activity", "answer": "BUILDING A SANDCASTLE" },
    { "category": "Activity", "answer": "TRAINING FOR A MARATHON" },
    { "category": "Activity", "answer": "LEARNING A NEW LANGUAGE" },
    { "category": "Activity", "answer": "RESTORING VINTAGE FURNITURE" },
    { "category": "Activity", "answer": "CODING A WEBSITE" },
    { "category": "Activity", "answer": "EDITING A VIDEO" },
    { "category": "Activity", "answer": "READING A MYSTERY NOVEL" },
    { "category": "Activity", "answer": "SKETCHING A PORTRAIT" },
    { "category": "Activity", "answer": "HOSTING A BARBECUE" },
    { "category": "Activity", "answer": "SWIMMING LAPS IN A POOL" },
    { "category": "Activity", "answer": "PLAYING GUITAR BY THE CAMPFIRE" },
    { "category": "Activity", "answer": "VOLUNTEERING AT AN ANIMAL SHELTER" },
    { "category": "Activity", "answer": "BIRD WATCHING" },
    { "category": "Activity", "answer": "GOING ON A CRUISE" },
    { "category": "Activity", "answer": "RIDING A ROLLER COASTER" },
    { "category": "Activity", "answer": "ATTENDING A CONCERT" },
    { "category": "Activity", "answer": "DECORATING A CAKE" },
    { "category": "Activity", "answer": "DOING A JIGSAW PUZZLE" },
    { "category": "Activity", "answer": "CLEANING OUT THE GARAGE" },
    { "category": "Activity", "answer": "REPAIRING A BROKEN FAUCET" },
    { "category": "Activity", "answer": "CATCHING FIREFLIES IN A JAR" },
    { "category": "Activity", "answer": "WRITING THANK YOU NOTES" },
    { "category": "Activity", "answer": "VISITING A LOCAL WINERY" },
    { "category": "Activity", "answer": "FOLDING LAUNDRY" },
    { "category": "Activity", "answer": "MOWING THE LAWN" },
    { "category": "Activity", "answer": "SHAMPOOING THE CARPETS" },
    { "category": "Activity", "answer": "WATERING THE HOUSEPLANTS" },
    { "category": "Activity", "answer": "TAKING A NAP ON THE SOFA" },
    { "category": "Activity", "answer": "WATCHING A DOCUMENTARY" },
    { "category": "Activity", "answer": "CALLING A FAMILY MEMBER" },
    { "category": "Activity", "answer": "WINDOW SHOPPING" },
    { "category": "Activity", "answer": "WRITING IN A JOURNAL" },
    { "category": "Activity", "answer": "PRACTICING CARD TRICKS" },
    { "category": "Activity", "answer": "LEARNING HOW TO DANCE" },
    { "category": "Place", "answer": "THE GRAND CANYON" },
    { "category": "Place", "answer": "THE EIFFEL TOWER" },
    { "category": "Place", "answer": "THE GREAT WALL OF CHINA" },
    { "category": "Place", "answer": "ROME ITALY" },
    { "category": "Place", "answer": "SYDNEY OPERA HOUSE" },
    { "category": "Place", "answer": "TIMES SQUARE NEW YORK" },
    { "category": "Place", "answer": "THE AMAZON RAINFOREST" },
    { "category": "Place", "answer": "YELLOWSTONE NATIONAL PARK" },
    { "category": "Place", "answer": "THE PYRAMIDS OF GIZA" },
    { "category": "Place", "answer": "THE TAJ MAHAL" },
    { "category": "Place", "answer": "THE LOUVRE MUSEUM" },
    { "category": "Place", "answer": "HOLLYWOOD CALIFORNIA" },
    { "category": "Place", "answer": "LONDON BRIDGE" },
    { "category": "Place", "answer": "THE PALACE OF VERSAILLES" },
    { "category": "Place", "answer": "HAWAIIAN ISLANDS" },
    { "category": "Place", "answer": "TOKYO JAPAN" },
    { "category": "Place", "answer": "GOLDEN GATE BRIDGE" },
    { "category": "Place", "answer": "MACHU PICCHU PERU" },
    { "category": "Place", "answer": "THE DEAD SEA" },
    { "category": "Place", "answer": "MOUNT EVEREST" },
    { "category": "Place", "answer": "THE WHITE HOUSE" },
    { "category": "Place", "answer": "STATUE OF LIBERTY" },
    { "category": "Place", "answer": "THE ALPS" },
    { "category": "Place", "answer": "BIG BEN" },
    { "category": "Place", "answer": "THE SAHARA DESERT" },
    { "category": "Place", "answer": "VENICE ITALY" },
    { "category": "Place", "answer": "THE COLOSSEUM" },
    { "category": "Place", "answer": "THE PANAMA CANAL" },
    { "category": "Place", "answer": "NIAGARA FALLS" },
    { "category": "Place", "answer": "THE VATICAN CITY" },
    { "category": "Place", "answer": "THE KREMLIN" },
    { "category": "Place", "answer": "PARIS FRANCE" },
    { "category": "Place", "answer": "BERLIN GERMANY" },
    { "category": "Place", "answer": "THE CITY OF DUBAI" },
    { "category": "Place", "answer": "ANCIENT GREECE" },
    { "category": "Place", "answer": "THE BLACK FOREST" },
    { "category": "Place", "answer": "THE HIMALAYAS" },
    { "category": "Place", "answer": "CARIBBEAN BEACHES" },
    { "category": "Place", "answer": "THE GALAPAGOS ISLANDS" },
    { "category": "Place", "answer": "ICELAND'S BLUE LAGOON" },
    { "category": "Place", "answer": "THE WALT DISNEY WORLD RESORT" },
    { "category": "Place", "answer": "LAS VEGAS NEVADA" },
    { "category": "Place", "answer": "THE PENTAGON" },
    { "category": "Place", "answer": "THE WORLD TRADE CENTER SITE" },
    { "category": "Place", "answer": "A CORAL REEF" },
    { "category": "Place", "answer": "A MOUNTAIN CABIN" },
    { "category": "Place", "answer": "A DENSE JUNGLE" },
    { "category": "Place", "answer": "A RUSTIC BARN" },
    { "category": "Place", "answer": "AN UNDERWATER CAVE" },
    { "category": "Place", "answer": "A SKYSCRAPER OBSERVATION DECK" },
    { "category": "Quote", "answer": "TO BE OR NOT TO BE" },
    { "category": "Quote", "answer": "ALL THAT GLITTERS IS NOT GOLD" },
    { "category": "Quote", "answer": "THE ONLY THING WE HAVE TO FEAR IS FEAR ITSELF" },
    { "category": "Quote", "answer": "ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU" },
    { "category": "Quote", "answer": "THAT'S ONE SMALL STEP FOR A MAN ONE GIANT LEAP FOR MANKIND" },
    { "category": "Quote", "answer": "I HAVE A DREAM" },
    { "category": "Quote", "answer": "IT IS A TRUTH UNIVERSALLY ACKNOWLEDGED" },
    { "category": "Quote", "answer": "MAY THE FORCE BE WITH YOU" },
    { "category": "Quote", "answer": "LIFE IS LIKE A BOX OF CHOCOLATES" },
    { "category": "Quote", "answer": "YOU CAN'T HANDLE THE TRUTH" },
    { "category": "Quote", "answer": "HERE'S LOOKING AT YOU KID" },
    { "category": "Quote", "answer": "FRANKLY MY DEAR I DON'T GIVE A DAMN" },
    { "category": "Quote", "answer": "THERE'S NO PLACE LIKE HOME" },
    { "category": "Quote", "answer": "BOND JAMES BOND" },
    { "category": "Quote", "answer": "ELEMENTARY MY DEAR WATSON" },
    { "category": "Quote", "answer": "GET BUSY LIVING OR GET BUSY DYING" },
    { "category": "Quote", "answer": "NO ONE CAN MAKE YOU FEEL INFERIOR WITHOUT YOUR CONSENT" },
    { "category": "Quote", "answer": "WHERE THERE IS LOVE THERE IS LIFE" },
    { "category": "Quote", "answer": "BE THE CHANGE THAT YOU WISH TO SEE IN THE WORLD" },
    { "category": "Quote", "answer": "DO OR DO NOT THERE IS NO TRY" },
    { "category": "Quote", "answer": "HOUSTON WE HAVE A PROBLEM" },
    { "category": "Quote", "answer": "I AM YOUR FATHER" },
    { "category": "Quote", "answer": "JUST KEEP SWIMMING" },
    { "category": "Quote", "answer": "SHOW ME THE MONEY" },
    { "category": "Quote", "answer": "SAY HELLO TO MY LITTLE FRIEND" },
    { "category": "Quote", "answer": "I'LL BE BACK" },
    { "category": "Quote", "answer": "E T PHONE HOME" },
    { "category": "Quote", "answer": "WE'RE GOING TO NEED A BIGGER BOAT" },
    { "category": "Quote", "answer": "YOU SHALL NOT PASS" },
    { "category": "Quote", "answer": "THE TRUTH IS OUT THERE" },
    { "category": "Quote", "answer": "CARPE DIEM" },
    { "category": "Quote", "answer": "VINI VIDI VICI" },
    { "category": "Quote", "answer": "E PLURIBUS UNUM" },
    { "category": "Quote", "answer": "PAX ROMANA" },
    { "category": "Quote", "answer": "A ROOM WITH A VIEW" },
    { "category": "Quote", "answer": "IF YOU BUILD IT THEY WILL COME" },
    { "category": "Quote", "answer": "I THINK THEREFORE I AM" },
    { "category": "Quote", "answer": "THE ONLY WAY TO DO GREAT WORK IS TO LOVE WHAT YOU DO" },
    { "category": "Quote", "answer": "WORK HARD PLAY HARD" },
    { "category": "Quote", "answer": "KEEP YOUR FRIENDS CLOSE AND YOUR ENEMIES CLOSER" },
    { "category": "Quote", "answer": "WE ACCEPT THE LOVE WE THINK WE DESERVE" },
    { "category": "Quote", "answer": "IT WAS THE BEST OF TIMES IT WAS THE WORST OF TIMES" },
    { "category": "Quote", "answer": "THE PAST IS A FOREIGN COUNTRY THEY DO THINGS DIFFERENTLY THERE" },
    { "category": "Quote", "answer": "I KNEW I SHOULD'VE TAKEN THAT LEFT TURN AT ALBUQUERQUE" },
    { "category": "Quote", "answer": "A PENNY SAVED IS A PENNY EARNED" },
    { "category": "Quote", "answer": "EARLY TO BED AND EARLY TO RISE" },
    { "category": "Quote", "answer": "THE ONLY GOOD IS KNOWLEDGE AND THE ONLY EVIL IS IGNORANCE" },
    { "category": "Quote", "answer": "THE UNEXAMINED LIFE IS NOT WORTH LIVING" },
    { "category": "Quote", "answer": "A SHIP IN HARBOR IS SAFE BUT THAT IS NOT WHAT SHIPS ARE BUILT FOR" },
    { "category": "Thing", "answer": "BICYCLE HELMET" },
    { "category": "Thing", "answer": "LEATHER WALLET" },
    { "category": "Thing", "answer": "SUNGLASSES" },
    { "category": "Thing", "answer": "WOOL BLANKET" },
    { "category": "Thing", "answer": "ANTIQUE VASE" },
    { "category": "Thing", "answer": "DIGITAL CAMERA" },
    { "category": "Thing", "answer": "COFFEE MAKER" },
    { "category": "Thing", "answer": "POCKET KNIFE" },
    { "category": "Thing", "answer": "GIFT CERTIFICATE" },
    { "category": "Thing", "answer": "VINTAGE POSTCARD COLLECTION" },
    { "category": "Thing", "answer": "BLUE JAY FEATHER" },
    { "category": "Thing", "answer": "BOARD GAME" },
    { "category": "Thing", "answer": "RAIN COAT" },
    { "category": "Thing", "answer": "KEY FOB" },
    { "category": "Thing", "answer": "PORTABLE SPEAKER" },
    { "category": "Thing", "answer": "LED FLASHLIGHT" },
    { "category": "Thing", "answer": "ANTIQUE CLOCK" },
    { "category": "Thing", "answer": "SET OF WATERCOLORS" },
    { "category": "Thing", "answer": "BEACH TOWEL" },
    { "category": "Thing", "answer": "TELEVISION REMOTE CONTROL" },
    { "category": "Thing", "answer": "WOODEN ROCKING CHAIR" },
    { "category": "Thing", "answer": "BAG OF MARBLES" },
    { "category": "Event", "answer": "NEW YEAR'S EVE CELEBRATION" },
    { "category": "Event", "answer": "A ROYAL WEDDING" },
    { "category": "Event", "answer": "THE OLYMPIC GAMES" },
    { "category": "Event", "answer": "SUPER BOWL SUNDAY" },
    { "category": "Event", "answer": "THE ACADEMY AWARDS" },
    { "category": "Event", "answer": "CHRISTMAS MORNING" },
    { "category": "Event", "answer": "THANKSGIVING DINNER" },
    { "category": "Event", "answer": "INDEPENDENCE DAY PARADE" },
    { "category": "Event", "answer": "THE FIRST DAY OF SCHOOL" },
    { "category": "Event", "answer": "A COLLEGE GRADUATION" },
    { "category": "Event", "answer": "A BIRTHDAY PARTY" },
    { "category": "Event", "answer": "A BLACK TIE GALA" },
    { "category": "Event", "answer": "THE WORLD SERIES" },
    { "category": "Event", "answer": "A HIGH SCHOOL REUNION" },
    { "category": "Event", "answer": "MARDI GRAS PARADE" },
    { "category": "Event", "answer": "THE KENTUCKY DERBY" },
    { "category": "Event", "answer": "A COMPANY PICNIC" },
    { "category": "Event", "answer": "A FAMILY VACATION" },
    { "category": "Event", "answer": "A ROAD TRIP" },
    { "category": "Event", "answer": "A SCHOOL PLAY" },
    { "category": "Event", "answer": "A RELIGIOUS HOLIDAY" },
    { "category": "Event", "answer": "A CIVIL WAR REENACTMENT" },
    { "category": "Event", "answer": "THE WINTER SOLSTICE" },
    { "category": "Event", "answer": "A COMET SIGHTING" },
    { "category": "Event", "answer": "A MAJOR POWER OUTAGE" },
    { "category": "Event", "answer": "A HUGE SNOWSTORM" },
    { "category": "Event", "answer": "THE STOCK MARKET CRASH" },
    { "category": "Event", "answer": "A VOLCANIC ERUPTION" },
    { "category": "Event", "answer": "A TOTAL SOLAR ECLIPSE" },
    { "category": "Event", "answer": "THE LAUNCH OF A NEW PRODUCT" },
    { "category": "Movie Title", "answer": "CASABLANCA" },
    { "category": "Movie Title", "answer": "THE SHAWSHANK REDEMPTION" },
    { "category": "Movie Title", "answer": "THE GODFATHER" },
    { "category": "Movie Title", "answer": "SCHINDLER'S LIST" },
    { "category": "Movie Title", "answer": "RAGING BULL" },
    { "category": "Movie Title", "answer": "CITIZEN KANE" },
    { "category": "Movie Title", "answer": "GONE WITH THE WIND" },
    { "category": "Movie Title", "answer": "LAWRENCE OF ARABIA" },
    { "category": "Movie Title", "answer": "TWELVE ANGRY MEN" },
    { "category": "Movie Title", "answer": "STAR WARS" },
    { "category": "Movie Title", "answer": "THE WIZARD OF OZ" },
    { "category": "Movie Title", "answer": "THE LORD OF THE RINGS THE RETURN OF THE KING" },
    { "category": "Movie Title", "answer": "INCEPTION" },
    { "category": "Movie Title", "answer": "THE MATRIX" },
    { "category": "Movie Title", "answer": "TITANIC" },
    { "category": "Movie Title", "answer": "JURASSIC PARK" },
    { "category": "Movie Title", "answer": "HARRY POTTER AND THE SORCERER'S STONE" },
    { "category": "Movie Title", "answer": "HOME ALONE" },
    { "category": "Movie Title", "answer": "SPIRITED AWAY" },
    { "category": "Movie Title", "answer": "PARASITE" },
    { "category": "Movie Title", "answer": "CRAZY RICH ASIANS" },
    { "category": "Movie Title", "answer": "AVATAR" },
    { "category": "Movie Title", "answer": "FIGHT CLUB" },
    { "category": "Movie Title", "answer": "THE SIXTH SENSE" },
    { "category": "Movie Title", "answer": "THE SILENCE OF THE LAMBS" },
    { "category": "Movie Title", "answer": "BLADE RUNNER" },
    { "category": "Movie Title", "answer": "THE TERMINATOR" },
    { "category": "Movie Title", "answer": "ALIENS" },
    { "category": "Movie Title", "answer": "BACK TO THE FUTURE" },
    { "category": "Movie Title", "answer": "RAIDERS OF THE LOST ARK" },
    { "category": "Movie Title", "answer": "BRAVEHEART" },
    { "category": "Movie Title", "answer": "GLADIATOR" },
    { "category": "Movie Title", "answer": "DEAD POETS SOCIETY" },
    { "category": "Movie Title", "answer": "WHEN HARRY MET SALLY" },
    { "category": "Movie Title", "answer": "FERRIS BUELLER'S DAY OFF" },
    { "category": "Book Title", "answer": "TO KILL A MOCKINGBIRD" },
    { "category": "Book Title", "answer": "PRIDE AND PREJUDICE" },
    { "category": "Book Title", "answer": "THE GREAT GATSBY" },
    { "category": "Book Title", "answer": "MOBY DICK" },
    { "category": "Book Title", "answer": "WAR AND PEACE" },
    { "category": "Book Title", "answer": "ONE HUNDRED YEARS OF SOLITUDE" },
    { "category": "Book Title", "answer": "THE ODYSSEY" },
    { "category": "Book Title", "answer": "DON QUIXOTE" },
    { "category": "Book Title", "answer": "THE HOBBIT" },
    { "category": "Book Title", "answer": "HARRY POTTER AND THE SORCERER'S STONE" },
    { "category": "Book Title", "answer": "THE LION THE WITCH AND THE WARDROBE" },
    { "category": "Book Title", "answer": "CHARLIE AND THE CHOCOLATE FACTORY" },
    { "category": "Book Title", "answer": "WHERE THE RED FERN GROWS" },
    { "category": "Book Title", "answer": "THE ADVENTURES OF HUCKLEBERRY FINN" },
    { "category": "Book Title", "answer": "THE PICTURE OF DORIAN GRAY" },
    { "category": "Book Title", "answer": "JANE EYRE" },
    { "category": "Book Title", "answer": "WUTHERING HEIGHTS" },
    { "category": "Book Title", "answer": "LITTLE WOMEN" },
    { "category": "Book Title", "answer": "THE COLOR PURPLE" },
    { "category": "Book Title", "answer": "BELOVED" },
    { "category": "Book Title", "answer": "THE HANDMAID'S TALE" },
    { "category": "Book Title", "answer": "NINETEEN EIGHTY FOUR" },
    { "category": "Book Title", "answer": "ANIMAL FARM" },
    { "category": "Book Title", "answer": "FAHRENHEIT FOUR FIFTY ONE" },
    { "category": "Book Title", "answer": "THE CHRONICLES OF NARNIA" },
    { "category": "Book Title", "answer": "WHERE THE WILD THINGS ARE" },
    { "category": "Book Title", "answer": "GOODNIGHT MOON" },
    { "category": "Book Title", "answer": "THE VERY HUNGRY CATERPILLAR" },
    { "category": "Book Title", "answer": "GREEN EGGS AND HAM" },
    { "category": "Book Title", "answer": "THE SHINING" },
    { "category": "Book Title", "answer": "THE STAND" },
    { "category": "Book Title", "answer": "A SONG OF ICE AND FIRE" },
    { "category": "Book Title", "answer": "THE DA VINCI CODE" },
    { "category": "Book Title", "answer": "GONE GIRL" },
    { "category": "Book Title", "answer": "THE ALCHEMIST" },
    { "category": "Book Title", "answer": "LIFE OF PI" },
    { "category": "Book Title", "answer": "THE GIRL WITH THE DRAGON TATTOO" },
    { "category": "Book Title", "answer": "THE HUNGER GAMES" },
    { "category": "Book Title", "answer": "THE MAZE RUNNER" },
    { "category": "Book Title", "answer": "THE FAULT IN OUR STARS" },
    { "category": "Before & After", "answer": "BAKED ALASKA ICE CREAM" },
    { "category": "Before & After", "answer": "BIRTHDAY SUIT CASE" },
    { "category": "Before & After", "answer": "BLUEBERRY PANCAKE BREAKFAST" },
    { "category": "Before & After", "answer": "CAKE WALK THE LINE" },
    { "category": "Before & After", "answer": "CARROT TOP SECRET" },
    { "category": "Before & After", "answer": "CHICKEN SALAD DAYS" },
    { "category": "Before & After", "answer": "CHOCOLATE BAR MITZVAH" },
    { "category": "Before & After", "answer": "COFFEE TABLE DANCING" },
    { "category": "Before & After", "answer": "FRENCH TOAST MASTER" },
    { "category": "Before & After", "answer": "HAIR BRUSH FIRE" },
    { "category": "Before & After", "answer": "HOT DOG DAYS" },
    { "category": "Before & After", "answer": "JEWELRY BOX OFFICE" },
    { "category": "Before & After", "answer": "LADY GAGA BALL" },
    { "category": "Before & After", "answer": "MARY POPPINS POCKET" },
    { "category": "Before & After", "answer": "MAYO CLINIC APPOINTMENT" },
    { "category": "Before & After", "answer": "OIL SLICK TRICK" },
    { "category": "Before & After", "answer": "POOL TABLE MANNERS" },
    { "category": "Before & After", "answer": "SLEEPING BEAUTY PAGEANT" },
    { "category": "Before & After", "answer": "SPRAY PAINT JOB" },
    { "category": "Before & After", "answer": "STRAWBERRY SHORTCAKE WALK" },
    { "category": "Before & After", "answer": "TAXI DRIVER'S LICENSE" },
    { "category": "Before & After", "answer": "TELEVISION STATION BREAK" },
    { "category": "Before & After", "answer": "VACUUM CLEANER SHRIMP" },
    { "category": "Before & After", "answer": "WIND CHIME IN" },
    { "category": "Before & After", "answer": "ZOO KEEPER OF THE FLAME" },
    { "category": "Before & After", "answer": "BANANA SPLIT PEA SOUP" },
    { "category": "Before & After", "answer": "BUTTERFLY EFFECTIVE" },
    { "category": "Before & After", "answer": "CABINET MEETING PLACE" },
    { "category": "Before & After", "answer": "CAR WASH TUB" },
    { "category": "Before & After", "answer": "CELL PHONE BOOTH" },
    { "category": "Before & After", "answer": "CHERRY PIE THROWER" },
    { "category": "Before & After", "answer": "CHRISTMAS CARD GAME" },
    { "category": "Before & After", "answer": "COFFEE MUG SHOT" },
    { "category": "Before & After", "answer": "REMOTE CONTROL FREAK" },
    { "category": "Before & After", "answer": "ROCK GARDEN GNOME" },
    { "category": "Before & After", "answer": "RUBBER CHICKEN SOUP" },
    { "category": "Before & After", "answer": "SATELLITE DISH WASHER" },
    { "category": "Before & After", "answer": "SCHOOL BUS STOP" },
    { "category": "Before & After", "answer": "SOAP OPERA SINGER" },
    { "category": "Before & After", "answer": "STAR WARS AND STRIPES" },
    { "category": "Before & After", "answer": "TEA PARTY GAME" },
    { "category": "Before & After", "answer": "WINE CELLAR DOOR" },
    { "category": "Fictional Character", "answer": "SHERLOCK HOLMES" },
    { "category": "Fictional Character", "answer": "HARRY POTTER" },
    { "category": "Fictional Character", "answer": "ATTICUS FINCH" },
    { "category": "Fictional Character", "answer": "JAY GATSBY" },
    { "category": "Fictional Character", "answer": "WONDER WOMAN" },
    { "category": "Fictional Character", "answer": "SPIDER MAN" },
    { "category": "Fictional Character", "answer": "MICKEY MOUSE" },
    { "category": "Fictional Character", "answer": "DONALD DUCK" },
    { "category": "Fictional Character", "answer": "POOH BEAR" },
    { "category": "Fictional Character", "answer": "FRODO BAGGINS" },
    { "category": "Fictional Character", "answer": "HAN SOLO" },
    { "category": "Fictional Character", "answer": "LUKE SKYWALKER" },
    { "category": "Fictional Character", "answer": "PRINCESS LEIA" },
    { "category": "Fictional Character", "answer": "VOLDEMORT" },
    { "category": "Fictional Character", "answer": "DUMBO THE ELEPHANT" },
    { "category": "Fictional Character", "answer": "THE JOKER" },
    { "category": "Fictional Character", "answer": "BATMAN" },
    { "category": "Fictional Character", "answer": "SUPERMAN" },
    { "category": "Fictional Character", "answer": "HE MAN" },
    { "category": "Fictional Character", "answer": "ROAD RUNNER" },
    { "category": "Fictional Character", "answer": "WILEY COYOTE" },
    { "category": "Fictional Character", "answer": "DAPHNE BLAKE" },
    { "category": "Fictional Character", "answer": "SCOOBY DOO" },
    { "category": "Fictional Character", "answer": "THE HULK" },
    { "category": "Fictional Character", "answer": "IRON MAN" },
    { "category": "Fictional Character", "answer": "CAPTAIN AMERICA" },
    { "category": "Fictional Character", "answer": "THOR" },
    { "category": "Fictional Character", "answer": "THE FLASH" },
    { "category": "Fictional Character", "answer": "GANDALF THE GREY" },
    { "category": "Fictional Character", "answer": "ALBUS DUMBLEDORE" },
    { "category": "Food & Drink", "answer": "CHOCOLATE CHIP COOKIE DOUGH" },
    { "category": "Food & Drink", "answer": "SPICY CHICKEN WINGS" },
    { "category": "Food & Drink", "answer": "PEPPERONI PIZZA" },
    { "category": "Food & Drink", "answer": "FRENCH FRIES" },
    { "category": "Food & Drink", "answer": "STRAWBERRY MILKSHAKE" },
    { "category": "Food & Drink", "answer": "STEAK AND POTATOES" },
    { "category": "Food & Drink", "answer": "TUNA SANDWICH" },
    { "category": "Food & Drink", "answer": "GINGERBREAD HOUSE" },
    { "category": "Food & Drink", "answer": "APPLE CIDER" },
    { "category": "Food & Drink", "answer": "LEMONADE" },
    { "category": "Food & Drink", "answer": "FAJITAS" },
    { "category": "Food & Drink", "answer": "TACOS" },
    { "category": "Food & Drink", "answer": "BURRITO BOWL" },
    { "category": "Food & Drink", "answer": "VEGETABLE CURRY" },
    { "category": "Food & Drink", "answer": "PAD THAI NOODLES" },
    { "category": "Food & Drink", "answer": "CHICKEN TIKKA MASALA" },
    { "category": "Food & Drink", "answer": "PUMPKIN SPICE LATTE" },
    { "category": "Food & Drink", "answer": "MINT CHOCOLATE CHIP ICE CREAM" },
    { "category": "Food & Drink", "answer": "BEEF STEW" },
    { "category": "Food & Drink", "answer": "POT ROAST" },
    { "category": "Food & Drink", "answer": "CORNED BEEF AND CABBAGE" },
    { "category": "Food & Drink", "answer": "PEACH COBBLER" },
    { "category": "Food & Drink", "answer": "BLUEBERRY MUFFIN" },
    { "category": "Food & Drink", "answer": "CINNAMON ROLL" },
    { "category": "Food & Drink", "answer": "BANANA BREAD" },
    { "category": "Food & Drink", "answer": "PINEAPPLE UPSIDE DOWN CAKE" },
    { "category": "Food & Drink", "answer": "SOURDOUGH BREAD" },
    { "category": "Food & Drink", "answer": "PRETZEL WITH CHEESE DIP" },
    { "category": "Food & Drink", "answer": "SWEET POTATO FRIES" },
    { "category": "Food & Drink", "answer": "FISH AND CHIPS" },
    { "category": "TV Show Title", "answer": "GAME OF THRONES" },
    { "category": "TV Show Title", "answer": "BREAKING BAD" },
    { "category": "TV Show Title", "answer": "STRANGER THINGS" },
    { "category": "TV Show Title", "answer": "THE CROWN" },
    { "category": "TV Show Title", "answer": "FRIENDS" },
    { "category": "TV Show Title", "answer": "SEINFELD" },
    { "category": "TV Show Title", "answer": "THE OFFICE" },
    { "category": "TV Show Title", "answer": "M*A*S*H" },
    { "category": "TV Show Title", "answer": "THE TWILIGHT ZONE" },
    { "category": "TV Show Title", "answer": "THE SOPRANOS" },
    { "category": "TV Show Title", "answer": "THE WIRE" },
    { "category": "TV Show Title", "answer": "SATURDAY NIGHT LIVE" },
    { "category": "TV Show Title", "answer": "GREY'S ANATOMY" },
    { "category": "TV Show Title", "answer": "LAW AND ORDER SPECIAL VICTIMS UNIT" },
    { "category": "TV Show Title", "answer": "NCIS" },
    { "category": "TV Show Title", "answer": "BLUE BLOODS" },
    { "category": "TV Show Title", "answer": "YELLOWSTONE" },
    { "category": "TV Show Title", "answer": "THE BIG BANG THEORY" },
    { "category": "TV Show Title", "answer": "HOW I MET YOUR MOTHER" },
    { "category": "TV Show Title", "answer": "PARKS AND RECREATION" },
    { "category": "TV Show Title", "answer": "CURB YOUR ENTHUSIASM" },
    { "category": "TV Show Title", "answer": "I LOVE LUCY" },
    { "category": "TV Show Title", "answer": "JEOPARDY" },
    { "category": "TV Show Title", "answer": "WHEEL OF FORTUNE" },
    { "category": "TV Show Title", "answer": "SURVIVOR" },
    { "category": "TV Show Title", "answer": "THE BACHELOR" },
    { "category": "TV Show Title", "answer": "DANCING WITH THE STARS" },
    { "category": "TV Show Title", "answer": "AMERICAN IDOL" },
    { "category": "TV Show Title", "answer": "THE VOICE" },
    { "category": "TV Show Title", "answer": "AMERICA'S GOT TALENT" },
    { "category": "Song Title", "answer": "BOHEMIAN RHAPSODY" },
    { "category": "Song Title", "answer": "STAIRWAY TO HEAVEN" },
    { "category": "Song Title", "answer": "IMAGINE" },
    { "category": "Song Title", "answer": "LIKE A ROLLING STONE" },
    { "category": "Song Title", "answer": "RESPECT" },
    { "category": "Song Title", "answer": "WHAT'S GOING ON" },
    { "category": "Song Title", "answer": "HEY JUDE" },
    { "category": "Song Title", "answer": "JOHNNY B GOODE" },
    { "category": "Song Title", "answer": "SMELLS LIKE TEEN SPIRIT" },
    { "category": "Song Title", "answer": "ONE" },
    { "category": "Song Title", "answer": "HOTEL CALIFORNIA" },
    { "category": "Song Title", "answer": "SWEET CAROLINE" },
    { "category": "Song Title", "answer": "I WILL ALWAYS LOVE YOU" },
    { "category": "Song Title", "answer": "WONDERWALL" },
    { "category": "Song Title", "answer": "LIVIN' ON A PRAYER" },
    { "category": "Song Title", "answer": "WE ARE THE CHAMPIONS" },
    { "category": "Song Title", "answer": "DON'T STOP ME NOW" },
    { "category": "Song Title", "answer": "BRIDGE OVER TROUBLED WATER" },
    { "category": "Song Title", "answer": "THE SOUND OF SILENCE" },
    { "category": "Song Title", "answer": "HERE COMES THE SUN" },
    { "category": "Song Title", "answer": "A CHANGE IS GONNA COME" },
    { "category": "Song Title", "answer": "GREAT BALLS OF FIRE" },
    { "category": "Song Title", "answer": "SUMMER NIGHTS" },
    { "category": "Song Title", "answer": "JAILHOUSE ROCK" },
    { "category": "People", "answer": "COLLEGE ROOMMATES" },
    { "category": "People", "answer": "BEST FRIENDS FOREVER" },
    { "category": "People", "answer": "GRANDPARENTS" },
    { "category": "People", "answer": "THE WHOLE FAMILY" },
    { "category": "People", "answer": "TWIN SISTERS" },
    { "category": "People", "answer": "A BASKETBALL TEAM" },
    { "category": "People", "answer": "OFFICE COWORKERS" },
    { "category": "People", "answer": "HIGH SCHOOL SWEETHEARTS" },
    { "category": "People", "answer": "NEIGHBORHOOD KIDS" },
    { "category": "People", "answer": "THE JURY" },
    { "category": "People", "answer": "THE WEDDING PARTY" },
    { "category": "People", "answer": "A CHOIR GROUP" },
    { "category": "People", "answer": "THE CROWD AT A CONCERT" },
    { "category": "People", "answer": "FRATERNITY BROTHERS" },
    { "category": "People", "answer": "SORORITY SISTERS" },
    { "category": "People", "answer": "NEWLYWEDS" },
    { "category": "People", "answer": "THE PRESIDENT AND FIRST LADY" },
    { "category": "People", "answer": "AIRPORT SECURITY" },
    { "category": "People", "answer": "MUSEUM VISITORS" },
    { "category": "People", "answer": "BOOK CLUB MEMBERS" },
    { "category": "People", "answer": "SKI RESORT EMPLOYEES" },
    { "category": "People", "answer": "ZOO KEEPERS" },
    { "category": "People", "answer": "DETECTIVE SQUAD" },
    { "category": "People", "answer": "EMERGENCY RESPONDERS" },
    { "category": "People", "answer": "HIGH SOCIETY ELITE" },
    { "category": "People", "answer": "STREET PERFORMERS" },
    { "category": "People", "answer": "APARTMENT TENANTS" },
    { "category": "People", "answer": "A GROUP OF TOURISTS" },
    { "category": "People", "answer": "SHEEP HERDERS" },
    { "category": "People", "answer": "THE NOBEL LAUREATES" },
    { "category": "People", "answer": "INTERNATIONAL DIGNITARIES" },
    { "category": "Location", "answer": "THE MUSEUM GIFT SHOP" },
    { "category": "Location", "answer": "THE BUS STOP" },
    { "category": "Location", "answer": "THE GROCERY STORE" },
    { "category": "Location", "answer": "THE LOCAL LIBRARY" },
    { "category": "Location", "answer": "THE POST OFFICE" },
    { "category": "Location", "answer": "THE TOWN SQUARE" },
    { "category": "Location", "answer": "THE COFFEE SHOP" },
    { "category": "Location", "answer": "THE MOVIE THEATER LOBBY" },
    { "category": "Location", "answer": "THE SCHOOL CAFETERIA" },
    { "category": "Location", "answer": "THE DOCTOR'S OFFICE WAITING ROOM" },
    { "category": "Location", "answer": "THE CITY PARK" },
    { "category": "Location", "answer": "THE CORNER BAKERY" },
    { "category": "Location", "answer": "THE AIRPORT TERMINAL" },
    { "category": "Location", "answer": "THE TACO TRUCK" },
    { "category": "Location", "answer": "THE BARBER SHOP" },
    { "category": "Location", "answer": "THE DRY CLEANERS" },
    { "category": "Location", "answer": "THE PET GROOMING SALON" },
    { "category": "Location", "answer": "THE CAR WASH" },
    { "category": "Location", "answer": "THE BANK VAULT" },
    { "category": "Location", "answer": "THE COURTROOM" },
    { "category": "Location", "answer": "THE PRISON CELL" },
    { "category": "Location", "answer": "THE ART STUDIO" },
    { "category": "Location", "answer": "THE DANCE HALL" },
    { "category": "Location", "answer": "THE WAREHOUSE DISTRICT" },
    { "category": "Location", "answer": "THE CONSTRUCTION SITE" },
    { "category": "Location", "answer": "THE GARAGE SALE" },
    { "category": "Location", "answer": "THE SECOND HAND STORE" },
    { "category": "Location", "answer": "THE TRAFFIC INTERSECTION" },
    { "category": "Location", "answer": "THE ROOFTOP GARDEN" },
    { "category": "Location", "answer": "THE SUBWAY CAR" },
    { "category": "Location", "answer": "A DESERT OASIS" },
    { "category": "Location", "answer": "AN UNDERGROUND BUNKER" },
    { "category": "Fictional Place", "answer": "HOGWARTS CASTLE" },
    { "category": "Fictional Place", "answer": "MIDDLE EARTH" },
    { "category": "Fictional Place", "answer": "NARNIA" },
    { "category": "Fictional Place", "answer": "NEVERLAND" },
    { "category": "Fictional Place", "answer": "THE LAND OF OZ" },
    { "category": "Fictional Place", "answer": "WONDERLAND" },
    { "category": "Fictional Place", "answer": "GOTHAM CITY" },
    { "category": "Fictional Place", "answer": "ATLANTIS" },
    { "category": "Fictional Place", "answer": "SHANGRI LA" },
    { "category": "Fictional Place", "answer": "THE MILLENNIUM FALCON" },
    { "category": "Fictional Place", "answer": "THE YELLOW BRICK ROAD" },
    { "category": "Fictional Place", "answer": "THE EMERALD CITY" },
    { "category": "Fictional Place", "answer": "THE ISLE OF SORNA" },
    { "category": "Fictional Place", "answer": "GENOSHA" },
    { "category": "Fictional Place", "answer": "VAKANDA" },
    { "category": "Fictional Place", "answer": "THE QUANTUM REALM" },
    { "category": "Fictional Place", "answer": "XAVIER'S SCHOOL FOR GIFTED YOUNGSTERS" },
    { "category": "Fictional Place", "answer": "THE TRUMAN SHOW DOME" },
    { "category": "Fictional Place", "answer": "THE ISLAND OF LOST TOYS" },
    { "category": "Fictional Place", "answer": "ISLA NUBLAR" }
  ]
};
const DATA_CHARACTERS = [
  { "id": 1, "name": "Aisha", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20flat%20design%20cartoon%20headshot%20of%20a%20young%20South%20Asian%20woman%20with%20long%20dark%20hair%20and%20bright%20green%20eyes%2C%20wearing%20a%20stylish%20scarf%2C%20with%20a%20plain%20beige%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 2, "name": "Marcus", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20professional%202D%20cartoon%20headshot%20of%20a%20middle-aged%20Black%20man%20with%20short%20dreadlocks%20and%20glasses%2C%20wearing%20a%20business%20casual%20jacket%2C%20with%20a%20plain%20light-blue%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 3, "name": "Leo", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20photorealistic%20cartoon%20headshot%20of%20a%20senior%20Hispanic%20man%20with%20a%20thick%20grey%20mustache%2C%20wearing%20a%20collared%20shirt%2C%20with%20a%20plain%20teal%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 4, "name": "Maya", "image_url": "https://enter.pollinations.ai/api/generate/image/An%20anime%20style%20headshot%20of%20a%2010-year-old%20East%20Asian%20girl%20with%20short%20black%20hair%20and%20large%20expressive%20eyes%2C%20smiling%20happily%2C%20with%20a%20plain%20pink%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 5, "name": "Klaus", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20hyper-detailed%20cartoon%20headshot%20of%20a%20burly%2C%20middle-aged%20Caucasian%20man%20with%20a%20neatly%20trimmed%20beard%2C%20wearing%20a%20flannel%20shirt%2C%20with%20a%20plain%20orange%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 6, "name": "Willow", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20cute%20cartoon%20head%20and%20shoulders%20shot%20of%20a%207-year-old%20girl%20with%20bright%20purple%20hair%20and%20a%20floral%20headband%2C%20looking%20curious%2C%20with%20a%20plain%20yellow%20background?model=flux&seed=43&nologo=true&enhance=true" },
  { "id": 7, "name": "Takeshi", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20minimalist%20anime%20headshot%20of%20a%20handsome%20young%20Japanese%20man%20with%20spiky%20brown%20hair%20and%20a%20focused%20expression%2C%20wearing%20a%20high-collared%20shirt%2C%20with%20a%20plain%20grey%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 8, "name": "Beatrice", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20Pixar-style%203D%20rendered%20headshot%20of%20a%20cheerful%2C%20elderly%20Caucasian%20woman%20with%20white%20curly%20hair%20and%20red%20lipstick%2C%20wearing%20pearl%20earrings%2C%20with%20a%20plain%20lavender%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 9, "name": "Javi Cruz", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20dynamic%20anime%20headshot%20of%20a%20teen%20male%20of%20mixed%20indigenous%20and%20Hispanic%20heritage%2C%20with%20dark%2C%20wavy%20hair%2C%20looking%20confident%2C%20with%20a%20plain%20maroon%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 10, "name": "Zephyr", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20modern%20cartoon%20headshot%20of%20a%20non-binary%20young%20adult%20with%20silver%20hair%20and%20large%20hoop%20earrings%2C%20with%20a%20plain%20deep-green%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 11, "name": "Elena V", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20soft%20watercolor%20cartoon%20headshot%20of%20a%20middle-aged%20Slavic%20woman%20with%20auburn%20hair%20tied%20back%20and%20kind%20eyes%2C%20wearing%20a%20simple%20turtleneck%2C%20with%20a%20plain%20light-brown%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 12, "name": "David B", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20retro%201950s%20style%20cartoon%20headshot%20of%20a%20senior%20Black%20man%20with%20a%20wide%20smile%20and%20a%20fedora%20hat%2C%20with%20a%20plain%20peach%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 13, "name": "Finn", "image_url": "https://enter.pollinations.ai/api/generate/image/An%20illustrated%20children's%20book%20style%20headshot%20of%20a%20very%20young%20Caucasian%20boy%20with%20bright%20red%20hair%20and%20freckles%2C%20wearing%20a%20striped%20t-shirt%2C%20with%20a%20plain%20sky-blue%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 14, "name": "Kali N", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20bold%2C%20graphic%20novel%20style%20headshot%20of%20a%20powerful%20African%20woman%20in%20her%20late%2020s%2C%20with%20intricate%20traditional%20tribal%20face%20paint%20and%20coiled%20hair%2C%20with%20a%20plain%20charcoal%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 15, "name": "Raj Patel", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20clean%2C%20vector-style%20cartoon%20headshot%20of%20a%20middle-aged%20South%20Asian%20man%20with%20a%20short%2C%20neat%20beard%2C%20wearing%20a%20formal%20suit%2C%20with%20a%20plain%20navy-blue%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 16, "name": "Sora Kim", "image_url": "https://enter.pollinations.ai/api/generate/image/An%20expressive%20K-pop%20inspired%20anime%20headshot%20of%20a%20young%20Korean%20woman%20with%20long%2C%20dyed%20pastel%20hair%20and%20modern%20street%20fashion%2C%20with%20a%20plain%20vibrant-yellow%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 17, "name": "Henrietta", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20simple%20line-art%20cartoon%20headshot%20of%20an%20elderly%20Caucasian%20woman%20with%20a%20severe%20but%20humorous%20expression%20and%20a%20massive%20beehive%20hairstyle%2C%20with%20a%20plain%20pale-green%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 18, "name": "Tenzin", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20detailed%2C%20comic-book%20style%20headshot%20of%20a%20young%20Tibetan%20man%20with%20closely%20shaved%20hair%20and%20a%20determined%20jawline%2C%20wearing%20a%20puffer%20vest%2C%20with%20a%20plain%20mountain-grey%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 19, "name": "Amelia V", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20friendly%2C%20commercial%20cartoon%20headshot%20of%20a%20young%20adult%20Latinx%20woman%20with%20voluminous%20brown%20hair%20and%20a%20warm%2C%20approachable%20smile%2C%20with%20a%20plain%20orange-red%20background?model=flux&seed=42&nologo=true&enhance=true" },
  { "id": 20, "name": "Brock", "image_url": "https://enter.pollinations.ai/api/generate/image/A%20cartoon%20headshot%20of%20a%20muscular%2C%20blonde%2C%2040-year-old%20man%20with%20a%20buzzcut%20and%20a%20tough-guy%20expression%2C%20wearing%20a%20simple%20black%20t-shirt%2C%20with%20a%20plain%20dark-red%20background?model=flux&seed=42&nologo=true&enhance=true" }
];

const DATA_PRIZES = [
    { "name": "New Car", "image_prompt": "A gleaming, luxury sport utility vehicle (SUV) parked under spotlights on a game show stage, massive confetti falling." },
    { "name": "Luxury Safari", "image_prompt": "A high-end safari jeep viewing a herd of elephants at sunset in the Serengeti, luxurious tent camp visible in the background." },
    { "name": "Jackpot $25,000", "image_prompt": "An overflowing vault of gold bars and massive stacks of currency, blindingly bright light reflecting off the wealth." },
    { "name": "Diamond Necklace", "image_prompt": "A brilliant, multi-carat diamond necklace and matching earrings sparkling brightly against a dark velvet background." },
    { "name": "Tropical Vacation", "image_prompt": "A pristine white luxury yacht sailing smoothly on turquoise water during sunset, tropical backdrop." },
    { "name": "Luxury Watch", "image_prompt": "Two elegant, gold and stainless steel luxury wristwatches resting on a black velvet cushion, close-up." },
    { "name": "Home Gym", "image_prompt": "A sleek, futuristic home gym setup with a multi-functional machine and free weights, in a brightly lit, modern room." },
    { "name": "Gaming PC", "image_prompt": "A powerful desktop gaming PC with clear side panels showing glowing RGB components, surrounded by glowing peripherals." }
];

/**
 * AUDIO MANAGER
 */
const AudioSys = {
    ctx: null,
    musicNode: null,
    
    init: function() {
        if (!this.ctx) {
            this.ctx = new (window.AudioContext || window.webkitAudioContext)();
        }
    },

    playTone: function(freq, type, duration) {
        if (!this.ctx) return;
        const osc = this.ctx.createOscillator();
        const gain = this.ctx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
        gain.gain.setValueAtTime(0.1, this.ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + duration);
        osc.connect(gain);
        gain.connect(this.ctx.destination);
        osc.start();
        osc.stop(this.ctx.currentTime + duration);
    },

    playClick: function() { 
        if(!this.ctx) return;
        const bufferSize = this.ctx.sampleRate * 0.05; // 50ms
        const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
        const data = buffer.getChannelData(0);
        for (let i = 0; i < bufferSize; i++) {
            data[i] = Math.random() * 2 - 1;
        }
        const noise = this.ctx.createBufferSource();
        noise.buffer = buffer;
        const gain = this.ctx.createGain();
        gain.gain.value = 0.05;
        noise.connect(gain);
        gain.connect(this.ctx.destination);
        noise.start();
    },

    playDing: function() { this.playTone(1200, 'sine', 0.5); },
    playBuzz: function() { this.playTone(150, 'sawtooth', 0.5); },
    playSpin: function() { this.playClick(); },
    
    playWin: function() {
        // Victory Fanfare
        if(!this.ctx) return;
        const now = this.ctx.currentTime;
        // C4, E4, G4, C5 sequence with harmony
        const notes = [523.25, 659.25, 783.99, 1046.50, 783.99, 1046.50];
        const times = [0, 0.2, 0.4, 0.6, 0.9, 1.2];
        const lengths = [0.2, 0.2, 0.2, 0.3, 0.3, 1.0];

        notes.forEach((freq, i) => {
            const osc = this.ctx.createOscillator();
            const gain = this.ctx.createGain();
            osc.type = 'square';
            osc.frequency.value = freq;
            gain.gain.setValueAtTime(0.1, now + times[i]);
            gain.gain.exponentialRampToValueAtTime(0.01, now + times[i] + lengths[i]);
            osc.connect(gain);
            gain.connect(this.ctx.destination);
            osc.start(now + times[i]);
            osc.stop(now + times[i] + lengths[i]);
        });
    },

    playBankrupt: function() {
        const osc = this.ctx.createOscillator();
        const gain = this.ctx.createGain();
        osc.frequency.setValueAtTime(400, this.ctx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, this.ctx.currentTime + 1);
        gain.gain.value = 0.2;
        gain.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 1);
        osc.connect(gain);
        gain.connect(this.ctx.destination);
        osc.start();
        osc.stop(this.ctx.currentTime + 1);
    }
};

/**
 * GAME CONSTANTS
 */
const WHEEL_SEGMENTS = [
    { type: 'money', value: 500, color: '#FF5555' },
    { type: 'money', value: 900, color: '#55FFFF' },
    { type: 'bankrupt', value: 0, text: 'BANKRUPT', color: '#000000', labelColor: '#FFFFFF' },
    { type: 'money', value: 300, color: '#FFFF55' },
    { type: 'money', value: 500, color: '#55FF55' },
    { type: 'money', value: 200, color: '#FF55FF' },
    { type: 'money', value: 500, color: '#FF5555' },
    { type: 'lose_turn', value: 0, text: 'LOSE TURN', color: '#FFFFFF', labelColor: '#000000' },
    { type: 'money', value: 400, color: '#0000AA' },
    { type: 'money', value: 500, color: '#55FFFF' },
    { type: 'money', value: 2500, color: '#FFFF55' }, // Top Dollar
    { type: 'money', value: 300, color: '#55FF55' },
    { type: 'money', value: 200, color: '#FF55FF' },
    { type: 'money', value: 1000, color: '#FF5555' },
    { type: 'bankrupt', value: 0, text: 'BANKRUPT', color: '#000000', labelColor: '#FFFFFF' },
    { type: 'money', value: 350, color: '#0000AA' },
];

const VOWELS = ['A', 'E', 'I', 'O', 'U'];
const MAX_BOARD_WIDTH = 14; // Max tiles per row

/**
 * GAME ENGINE
 */
const Game = {
    players: [],
    setupPlayers: [],
    currentPlayerIndex: 0,
    currentRound: 1,
    puzzle: null,
    guessedLetters: [],
    roundActive: false,
    wheelAngle: 0,
    isSpinning: false,
    usedPuzzleIndices: new Set(), // Track used local puzzles
    
    // Setup Variables
    editingPlayerIndex: -1,
    currentBonusPrize: null,

    // Initialization
    init: function() {
        UI.initWheel();
        document.body.addEventListener('click', () => AudioSys.init(), { once: true });
    },

    goToSetup: function() {
        AudioSys.init();
        this.setupPlayers = [
            { type: 'HUMAN', name: 'Player 1', avatarId: 1 },
            { type: 'CPU', name: 'CPU 1', avatarId: null }
        ];
        this.usedPuzzleIndices.clear();
        UI.renderSetupList();
        UI.showScreen('screen-setup');
    },

    goToCharSelect: function(playerIndex) {
        this.editingPlayerIndex = playerIndex;
        UI.renderCharGrid();
        document.getElementById('modal-char-select').style.display = 'flex';
    },

    selectCharacterForSetup: function(charId) {
        if(this.editingPlayerIndex > -1) {
            this.setupPlayers[this.editingPlayerIndex].avatarId = charId;
            UI.renderSetupList();
            document.getElementById('modal-char-select').style.display = 'none';
        }
    },

    createNewCharacter: async function() {
        const desc = document.getElementById('new-char-desc').value;
        const statusEl = document.getElementById('gen-status');
        if(!desc) {
            statusEl.innerText = "Please enter a description.";
            return;
        }

        statusEl.innerText = "Generating... (approx 5-10s)";
        
        const seed = Math.floor(Math.random() * 9999);
        const encodedDesc = encodeURIComponent(desc + " cartoon headshot, plain background");
        const imgUrl = `https://enter.pollinations.ai/api/generate/image/${encodedDesc}?model=flux&seed=${seed}&nologo=true&key=plln_pk_EkZu7wQbWUw3wgymmnYCE2H82ipNioP5LePrDPZbUVqoyQA4uXWcbIva7vqtxPhL`;
        
        const img = new Image();
        img.onload = () => {
            const newChar = { id: Date.now(), name: "Custom", image_url: imgUrl };
            DATA_CHARACTERS.push(newChar);
            UI.renderCharGrid();
            this.selectCharacterForSetup(newChar.id);
            statusEl.innerText = "Done!";
        };
        img.onerror = () => { statusEl.innerText = "Error generating image."; };
        img.src = imgUrl;
    },

    finalizeSetup: function() {
        this.players = [];
        const usedAvatarIds = this.setupPlayers.map(p => p.avatarId).filter(id => id);

        this.setupPlayers.forEach((p, idx) => {
            if(p.type === 'HUMAN') {
                const char = DATA_CHARACTERS.find(c => c.id === p.avatarId) || DATA_CHARACTERS[0];
                this.players.push({
                    type: 'HUMAN',
                    name: p.name || `Player ${idx+1}`,
                    avatar: char.image_url,
                    roundScore: 0,
                    totalScore: 0
                });
            } else {
                let availableChars = DATA_CHARACTERS.filter(c => !usedAvatarIds.includes(c.id));
                if(availableChars.length === 0) availableChars = DATA_CHARACTERS;
                
                const char = availableChars[Math.floor(Math.random() * availableChars.length)];
                usedAvatarIds.push(char.id);

                this.players.push({
                    type: 'AI',
                    name: char.name,
                    avatar: char.image_url,
                    roundScore: 0,
                    totalScore: 0
                });
            }
        });

        this.currentRound = 1;
        UI.showScreen('screen-game');
        this.startRound();
    },

    startRound: async function() {
        this.roundActive = true;
        this.guessedLetters = [];
        this.players.forEach(p => p.roundScore = 0);
        UI.renderPlayers();
        UI.log(`ROUND ${this.currentRound} STARTED!`);
        
        const online = document.getElementById('chk-online-puzzles').checked;
        
        if (online) {
            UI.log("Loading Online Puzzle...");
            this.puzzle = await this.fetchNewPuzzle();
        } else {
            // Local fallback with duplication check
            let availableIndices = [];
            DATA_PUZZLES.puzzles.forEach((_, idx) => {
                if(!this.usedPuzzleIndices.has(idx)) availableIndices.push(idx);
            });
            
            if(availableIndices.length === 0) {
                this.usedPuzzleIndices.clear(); // Reset if all used
                availableIndices = DATA_PUZZLES.puzzles.map((_, i) => i);
            }
            
            const randomIdx = availableIndices[Math.floor(Math.random() * availableIndices.length)];
            this.usedPuzzleIndices.add(randomIdx);
            this.puzzle = DATA_PUZZLES.puzzles[randomIdx];
        }
        
        if (!this.puzzle || !this.puzzle.answer) this.puzzle = DATA_PUZZLES.puzzles[0];

        this.puzzle.cleanAnswer = this.puzzle.answer.toUpperCase().replace(/[^A-Z]/g, '');

        UI.setupBoard(this.puzzle.answer);
        UI.setupLetterBoard();
        UI.updateCategory(this.puzzle.category);
        
        this.currentPlayerIndex = (this.currentRound - 1) % this.players.length;
        this.nextTurn();
    },

    fetchNewPuzzle: async function() {
        const seed = Math.floor(Math.random() * 9999);
        const url = `https://enter.pollinations.ai/api/generate/text/Give%20me%20a%20json%20object%20with%20category%20and%20answer%20for%20wheel%20of%20fortune%20puzzle.%20Format:%20{"category":"Phrase","answer":"HELLO%20WORLD"}.%20No%20markdown.` + `?model=openai&seed=${seed}&key=plln_pk_EkZu7wQbWUw3wgymmnYCE2H82ipNioP5LePrDPZbUVqoyQA4uXWcbIva7vqtxPhL`;
        try {
            const controller = new AbortController();
            const id = setTimeout(() => controller.abort(), 5000);
            const res = await fetch(url, { signal: controller.signal });
            clearTimeout(id);
            const text = await res.text();
            const cleanText = text.replace(/```json/g, '').replace(/```/g, '').trim();
            const p = JSON.parse(cleanText);
            
            // Basic deduplication for online (not perfect but helpful)
            if(this.usedPuzzleIndices.has(p.answer)) return this.fetchNewPuzzle(); 
            this.usedPuzzleIndices.add(p.answer);
            return p;
        } catch (e) {
            UI.log("Online load failed. Using Local.");
            // Determine a local index
            let availableIndices = [];
            DATA_PUZZLES.puzzles.forEach((_, idx) => {
                if(!this.usedPuzzleIndices.has(idx)) availableIndices.push(idx);
            });
             if(availableIndices.length === 0) {
                this.usedPuzzleIndices.clear();
                availableIndices = DATA_PUZZLES.puzzles.map((_, i) => i);
            }
            const randomIdx = availableIndices[Math.floor(Math.random() * availableIndices.length)];
            this.usedPuzzleIndices.add(randomIdx);
            return DATA_PUZZLES.puzzles[randomIdx];
        }
    },

    nextTurn: function() {
        if(!this.roundActive) return;

        UI.highlightPlayer(this.currentPlayerIndex);
        const player = this.players[this.currentPlayerIndex];
        UI.log(`${player.name}'s turn.`);
        
        UI.disableControls();

        if (player.type === 'AI') {
            setTimeout(() => this.aiTurn(), 1500);
        } else {
            UI.enableControls();
        }
    },

    aiTurn: function() {
        if(!this.roundActive) return;
        const player = this.players[this.currentPlayerIndex];
        
        const revealedCount = this.guessedLetters.filter(l => this.puzzle.cleanAnswer.includes(l)).length;
        const totalCount = new Set(this.puzzle.cleanAnswer.split('')).size;
        
        // Solve Logic
        if (revealedCount / totalCount > 0.75 && Math.random() > 0.2) {
             if(Math.random() > 0.1) this.solvePuzzle(this.puzzle.answer);
             else this.solvePuzzle("WRONG ANSWER");
             return;
        }

        // Buy Vowel Logic
        const hasVowels = this.guessedLetters.some(l => VOWELS.includes(l));
        if (player.roundScore >= 250 && !hasVowels && Math.random() > 0.5) {
            const availableVowels = VOWELS.filter(v => !this.guessedLetters.includes(v));
            if (availableVowels.length > 0) {
                this.handleBuyVowel(availableVowels[Math.floor(Math.random() * availableVowels.length)]);
                return;
            }
        }

        this.spinWheel();
    },

    spinWheel: function() {
        if (this.isSpinning) return;
        this.isSpinning = true;
        UI.disableControls();
        AudioSys.playSpin();

        const extraSpins = 5 + Math.random() * 5;
        const stopAngle = Math.random() * Math.PI * 2;
        const targetAngle = this.wheelAngle + (extraSpins * Math.PI * 2) + stopAngle;

        let start = null;
        const duration = 3000; 

        const animate = (timestamp) => {
            if (!start) start = timestamp;
            const progress = (timestamp - start) / duration;
            
            if (progress < 1) {
                const ease = 1 - Math.pow(1 - progress, 3);
                this.wheelAngle = this.wheelAngle + (targetAngle - this.wheelAngle) * (progress * 0.05);
                this.wheelAngle += (1 - progress) * 0.5;
                UI.drawWheel();
                requestAnimationFrame(animate);
                if (Math.floor(this.wheelAngle * 10) % 5 === 0) AudioSys.playClick();
            } else {
                this.isSpinning = false;
                this.wheelAngle = this.wheelAngle % (Math.PI * 2);
                UI.drawWheel();
                this.processSpinResult();
            }
        };
        requestAnimationFrame(animate);
    },

    processSpinResult: function() {
        const segmentAngle = (Math.PI * 2) / WHEEL_SEGMENTS.length;
        let normalizedAngle = (Math.PI * 1.5 - this.wheelAngle) % (Math.PI * 2);
        if (normalizedAngle < 0) normalizedAngle += Math.PI * 2;
        
        const segmentIndex = Math.floor(normalizedAngle / segmentAngle);
        const segment = WHEEL_SEGMENTS[segmentIndex];
        
        UI.log(`Landed on: ${segment.text || '$'+segment.value}`);

        if (segment.type === 'bankrupt') {
            AudioSys.playBankrupt();
            this.players[this.currentPlayerIndex].roundScore = 0;
            UI.renderPlayers();
            setTimeout(() => this.endTurn(), 2000);
        } else if (segment.type === 'lose_turn') {
            AudioSys.playBankrupt();
            setTimeout(() => this.endTurn(), 2000);
        } else {
            this.currentSpinValue = segment.value;
            this.promptConsonant();
        }
    },

    promptConsonant: function() {
        if (this.players[this.currentPlayerIndex].type === 'AI') {
            const frequency = "RSTLNEHCDMPUGBFKYW".split('');
            const consonants = "BCDFGHJKLMNPQRSTVWXYZ".split('');
            const available = consonants.filter(c => !this.guessedLetters.includes(c));
            
            let pick = available.find(c => frequency.includes(c));
            if(!pick && available.length > 0) pick = available[Math.floor(Math.random() * available.length)];
            if(!pick) pick = 'Z'; 

            setTimeout(() => this.handleLetterGuess(pick), 1000);
        } else {
            UI.enableLetterButtons(false);
            UI.log(`Spin $${this.currentSpinValue}! Pick a consonant.`);
        }
    },

    buyVowel: function() {
        const player = this.players[this.currentPlayerIndex];
        if (player.roundScore < 250) {
            UI.log("Not enough money! Need $250.");
            AudioSys.playBuzz();
            return;
        }
        player.roundScore -= 250;
        UI.renderPlayers();
        UI.enableLetterButtons(true);
        UI.log("Pick a vowel.");
    },

    handleBuyVowel: function(letter) {
         if(this.players[this.currentPlayerIndex].type === 'AI') {
             this.players[this.currentPlayerIndex].roundScore -= 250;
             UI.renderPlayers();
         }
         this.handleLetterGuess(letter);
    },

    handleLetterGuess: function(letter) {
        UI.disableControls();
        UI.disableLetterButtons();
        this.guessedLetters.push(letter);
        UI.markLetterUsed(letter);

        const count = (this.puzzle.answer.match(new RegExp(letter, "g")) || []).length;

        if (count > 0) {
            AudioSys.playDing();
            UI.revealLetter(letter);
            
            if (!VOWELS.includes(letter)) {
                this.players[this.currentPlayerIndex].roundScore += (this.currentSpinValue * count);
            }
            UI.renderPlayers();
            UI.log(`Found ${count} ${letter}'s!`);
            
            if (this.players[this.currentPlayerIndex].type === 'AI') {
                setTimeout(() => this.aiTurn(), 1500);
            } else {
                UI.enableControls();
            }

        } else {
            AudioSys.playBuzz();
            UI.log(`No ${letter}.`);
            setTimeout(() => this.endTurn(), 1500);
        }
    },

    endTurn: function() {
        this.currentPlayerIndex = (this.currentPlayerIndex + 1) % this.players.length;
        this.nextTurn();
    },

    promptSolve: function() {
        UI.showSolveModal();
    },

    submitSolve: function() {
        const guess = document.getElementById('solve-input').value.toUpperCase();
        this.solvePuzzle(guess);
    },

    solvePuzzle: function(guess) {
        UI.closeModal();
        if (guess === this.puzzle.answer.toUpperCase()) {
            AudioSys.playWin();
            UI.fireConfetti();
            const player = this.players[this.currentPlayerIndex];
            
            if (player.roundScore < 1000) player.roundScore = 1000;
            player.totalScore += player.roundScore;
            
            UI.revealAll();
            UI.renderPlayers();
            UI.showPrizeModal("ROUND WINNER!", `${player.name} solved the puzzle!\nWinning: $${player.roundScore}`);
            
            this.roundActive = false;
            
            setTimeout(() => {
                if (this.currentRound < 3) {
                    this.currentRound++;
                    UI.closeModal();
                    this.startRound();
                } else {
                    this.startBonusRound();
                }
            }, 5000);

        } else {
            AudioSys.playBuzz();
            UI.log("WRONG! Next player.");
            this.endTurn();
        }
    },

    startBonusRound: function() {
        const winner = this.players.reduce((prev, current) => (prev.totalScore > current.totalScore) ? prev : current);
        this.currentPlayerIndex = this.players.indexOf(winner);
        
        // Pick new puzzle that hasn't been used (using logic from startRound approx)
        let availableIndices = [];
        DATA_PUZZLES.puzzles.forEach((_, idx) => {
            if(!this.usedPuzzleIndices.has(idx)) availableIndices.push(idx);
        });
        if(availableIndices.length === 0) availableIndices = DATA_PUZZLES.puzzles.map((_,i)=>i);
        const randomIdx = availableIndices[Math.floor(Math.random() * availableIndices.length)];
        this.puzzle = DATA_PUZZLES.puzzles[randomIdx];
        this.puzzle.cleanAnswer = this.puzzle.answer.toUpperCase().replace(/[^A-Z]/g, '');
        
        UI.setupBoard(this.puzzle.answer);
        UI.setupLetterBoard();
        UI.updateCategory(this.puzzle.category);
        UI.disableControls();
        UI.log(`BONUS ROUND! ${winner.name} plays.`);

        if(winner.type === 'HUMAN') {
            UI.showPrizeSelection();
        } else {
            // CPU Auto select
            setTimeout(() => {
                this.selectBonusPrize(Math.floor(Math.random() * 3));
            }, 1500);
        }
    },

    selectBonusPrize: function(index) {
        // Randomly pick a prize from the list
        this.currentBonusPrize = DATA_PRIZES[Math.floor(Math.random() * DATA_PRIZES.length)];
        UI.closeModal();
        
        UI.log("R, S, T, L, N, E revealed...");
        ['R','S','T','L','N','E'].forEach(l => {
            this.guessedLetters.push(l);
            UI.revealLetter(l);
            UI.markLetterUsed(l);
        });

        const player = this.players[this.currentPlayerIndex];
        if (player.type === 'HUMAN') {
            UI.showPrizeModal("BONUS ROUND", "Enter 3 Consonants and 1 Vowel (e.g., C D M A), then click SUBMIT.");
            const input = document.getElementById('solve-input');
            input.placeholder = "3 CONST + 1 VOWEL";
            input.value = "";
            input.classList.remove('hidden');
            document.getElementById('modal-btn-ok').classList.add('hidden');
            const submitBtn = document.getElementById('modal-btn-solve-submit');
            submitBtn.classList.remove('hidden');
            
            submitBtn.onclick = () => {
                const val = input.value.toUpperCase().replace(/[^A-Z]/g, '');
                // Basic validation could go here
                if(val.length < 3) {
                    alert("Please enter at least 3 letters!");
                    return;
                }
                const chars = val.split('').slice(0, 4);
                UI.closeModal();
                this.runBonusSolve(chars);
            };
        } else {
             const chars = ['H', 'M', 'P', 'O'];
             setTimeout(() => this.runBonusSolve(chars), 2000);
        }
    },

    runBonusSolve: function(chars) {
        chars.forEach(l => {
            this.guessedLetters.push(l);
            UI.revealLetter(l);
            UI.markLetterUsed(l);
        });
        
        UI.log("You have 10 seconds to solve!");
        
        if (this.players[this.currentPlayerIndex].type === 'HUMAN') {
            setTimeout(() => {
                UI.showSolveModal();
                document.getElementById('modal-btn-solve-submit').onclick = () => {
                    const guess = document.getElementById('solve-input').value.toUpperCase();
                    UI.closeModal();
                    this.checkBonusWin(guess);
                }
            }, 2000);
        } else {
            setTimeout(() => {
                 if(Math.random() > 0.8) this.checkBonusWin(this.puzzle.answer);
                 else this.checkBonusWin("WRONG ANSWER");
            }, 2000);
        }
    },

    checkBonusWin: async function(guess) {
        if (guess === this.puzzle.answer.toUpperCase()) {
            AudioSys.playWin();
            UI.fireConfetti();
            
            const prize = this.currentBonusPrize;
            // Fetch prize image
            const imgUrl = `https://enter.pollinations.ai/api/generate/image/${encodeURIComponent(prize.image_prompt)}?model=flux&seed=${Math.floor(Math.random()*999)}&nologo=true&key=plln_pk_EkZu7wQbWUw3wgymmnYCE2H82ipNioP5LePrDPZbUVqoyQA4uXWcbIva7vqtxPhL`;
            
            UI.showPrizeModal("GRAND WINNER!", `You won the ${prize.name}!\nTotal Winnings: $${this.players[this.currentPlayerIndex].totalScore}`, imgUrl);
        } else {
            AudioSys.playBankrupt();
            UI.revealAll();
            UI.showPrizeModal("GAME OVER", `The answer was ${this.puzzle.answer}.\nPrize lost: ${this.currentBonusPrize.name}.`);
        }
    },

    quitGame: function() {
        this.roundActive = false;
        UI.showScreen('screen-title');
    }
};

/**
 * UI CONTROLLER
 */
const UI = {
    canvas: document.getElementById('wheel-canvas'),
    ctx: document.getElementById('wheel-canvas').getContext('2d'),

    initWheel: function() {
        this.drawWheel();
    },

    drawWheel: function() {
        const ctx = this.ctx;
        const centerX = 115;
        const centerY = 115;
        const radius = 110;
        const numSegments = WHEEL_SEGMENTS.length;
        const step = (2 * Math.PI) / numSegments;
        const angleOffset = Game.wheelAngle;

        ctx.clearRect(0, 0, 230, 230);

        for (let i = 0; i < numSegments; i++) {
            const segment = WHEEL_SEGMENTS[i];
            const startAngle = i * step + angleOffset;
            const endAngle = (i + 1) * step + angleOffset;

            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.fillStyle = segment.color;
            ctx.fill();
            ctx.stroke();
            ctx.closePath();

            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(startAngle + step / 2);
            ctx.textAlign = 'right';
            ctx.fillStyle = segment.labelColor || '#000';
            ctx.font = 'bold 14px monospace';
            const text = segment.text || '$' + segment.value;
            ctx.fillText(text, radius - 10, 5);
            ctx.restore();
        }
        
        ctx.beginPath();
        ctx.arc(centerX, centerY, 15, 0, 2 * Math.PI);
        ctx.fillStyle = '#000';
        ctx.fill();
        ctx.stroke();
    },

    showScreen: function(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-screen'));
        document.getElementById(id).classList.add('active-screen');
    },

    // Setup Screen UI Helpers
    addSetupRow: function() {
        const newIdx = Game.setupPlayers.length;
        Game.setupPlayers.push({ type: 'CPU', name: `CPU ${newIdx+1}`, avatarId: null });
        this.renderSetupList();
    },

    removeSetupRow: function(idx) {
        if(Game.setupPlayers.length <= 1) return;
        Game.setupPlayers.splice(idx, 1);
        this.renderSetupList();
    },

    updateSetupPlayer: function(idx, key, value) {
        Game.setupPlayers[idx][key] = value;
        this.renderSetupList();
    },

    renderSetupList: function() {
        const list = document.getElementById('setup-player-list');
        list.innerHTML = '';
        
        Game.setupPlayers.forEach((p, idx) => {
            const row = document.createElement('div');
            row.className = 'setup-row';
            
            let avatarUrl = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>"; 
            if (p.avatarId) {
                const char = DATA_CHARACTERS.find(c => c.id === p.avatarId);
                if (char) avatarUrl = char.image_url;
            } else {
                avatarUrl = "https://enter.pollinations.ai/api/generate/image/question%20mark%20pixel%20art?width=60&height=60&nologo=true";
            }

            row.innerHTML = `
                <div style="display:flex; flex-direction:column; align-items:center;">
                    <img src="${avatarUrl}" class="setup-avatar-preview" onclick="Game.goToCharSelect(${idx})">
                    <span style="font-size:0.7rem; cursor:pointer;" onclick="Game.goToCharSelect(${idx})">CHANGE</span>
                </div>
                <div style="flex:1;">
                    <select onchange="UI.updateSetupPlayer(${idx}, 'type', this.value)" style="font-family:'VT323'; font-size:1.2rem; padding:2px;">
                        <option value="HUMAN" ${p.type === 'HUMAN' ? 'selected' : ''}>Human</option>
                        <option value="CPU" ${p.type === 'CPU' ? 'selected' : ''}>CPU</option>
                    </select>
                    <input type="text" value="${p.name}" onchange="UI.updateSetupPlayer(${idx}, 'name', this.value)" style="width:150px;" placeholder="Name">
                </div>
                <button onclick="UI.removeSetupRow(${idx})" class="btn-danger btn-small">X</button>
            `;
            list.appendChild(row);
        });
    },

    renderCharGrid: function() {
        const grid = document.getElementById('char-grid');
        grid.innerHTML = '';
        DATA_CHARACTERS.forEach(char => {
            const div = document.createElement('div');
            div.className = 'char-select-card';
            div.innerHTML = `<img src="${char.image_url}" class="char-select-img" loading="lazy"><br>${char.name}`;
            div.onclick = () => Game.selectCharacterForSetup(char.id);
            grid.appendChild(div);
        });
    },

    renderPlayers: function() {
        const area = document.getElementById('player-area');
        area.innerHTML = '';
        Game.players.forEach((p, idx) => {
            const div = document.createElement('div');
            div.className = `player-card ${idx === Game.currentPlayerIndex ? 'active' : ''}`;
            div.innerHTML = `
                <img src="${p.avatar}" class="player-avatar">
                <div class="player-info">
                    <div class="player-name">${p.name}</div>
                    <div class="player-score">$${p.roundScore}</div>
                </div>
            `;
            area.appendChild(div);
        });
    },

    highlightPlayer: function(idx) {
        this.renderPlayers();
    },

    setupBoard: function(text) {
        const board = document.getElementById('puzzle-board');
        board.innerHTML = '';
        const words = text.toUpperCase().split(' ');
        
        let lines = [[]];
        let currentLine = 0;
        let currentLineLength = 0;

        // Smart wrapping logic
        words.forEach(word => {
            // Check if word fits on current line. Add 1 for space if line has content.
            const spaceNeeded = currentLineLength === 0 ? 0 : 1;
            
            if (currentLineLength + spaceNeeded + word.length > MAX_BOARD_WIDTH) {
                // Move to next line
                currentLine++;
                lines[currentLine] = [];
                currentLineLength = 0;
            }
            
            lines[currentLine].push(word);
            currentLineLength += (currentLineLength === 0 ? 0 : 1) + word.length;
        });

        // Render lines
        lines.forEach((lineWords, idx) => {
            // Center alignment: calculate padding
            // Actually, flexbox 'justify-content: center' on board handles row centering visually
            // if we use breaks. But we need to structure it.
            
            // To ensure rows break correctly, we can use a container for each row or
            // just a break element. Let's use the break element method.
            
            if(idx > 0) {
                 const br = document.createElement('div');
                 br.className = 'row-break';
                 board.appendChild(br);
            }

            lineWords.forEach((word, wIdx) => {
                if (wIdx > 0) {
                    const space = document.createElement('div');
                    space.className = 'tile space';
                    space.style.width = "20px";
                    board.appendChild(space);
                }

                for (let i = 0; i < word.length; i++) {
                    const char = word[i];
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    if (/[A-Z]/.test(char)) {
                        tile.dataset.char = char;
                        tile.classList.add('empty');
                    } else {
                        tile.innerText = char;
                        tile.classList.add('space');
                    }
                    board.appendChild(tile);
                }
            });
        });
    },

    updateCategory: function(cat) {
        document.getElementById('category-display').innerText = cat;
    },

    revealLetter: function(char) {
        document.querySelectorAll('.tile').forEach(t => {
            if (t.dataset.char === char) {
                t.innerText = char;
                t.classList.remove('empty');
                t.classList.add('revealed');
            }
        });
    },

    revealAll: function() {
        document.querySelectorAll('.tile').forEach(t => {
            if (t.dataset.char) {
                t.innerText = t.dataset.char;
                t.classList.remove('empty');
                t.classList.add('revealed');
            }
        });
    },

    setupLetterBoard: function() {
        const board = document.getElementById('letter-board');
        board.innerHTML = '';
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
        alphabet.forEach(l => {
            const btn = document.createElement('button');
            btn.className = 'letter-btn';
            btn.innerText = l;
            btn.id = `btn-letter-${l}`;
            btn.onclick = () => {
                if(VOWELS.includes(l)) Game.handleBuyVowel(l);
                else Game.handleLetterGuess(l);
            };
            btn.disabled = true;
            board.appendChild(btn);
        });
    },

    enableLetterButtons: function(vowelsOnly) {
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
        alphabet.forEach(l => {
            if (Game.guessedLetters.includes(l)) return;
            const btn = document.getElementById(`btn-letter-${l}`);
            const isVowel = VOWELS.includes(l);
            
            if (vowelsOnly) {
                if (isVowel) btn.disabled = false;
                else btn.disabled = true;
            } else {
                if (!isVowel) btn.disabled = false;
                else btn.disabled = true;
            }
        });
    },

    disableLetterButtons: function() {
        document.querySelectorAll('.letter-btn').forEach(b => b.disabled = true);
    },

    markLetterUsed: function(l) {
        const btn = document.getElementById(`btn-letter-${l}`);
        if(btn) btn.style.visibility = 'hidden';
    },

    disableControls: function() {
        document.getElementById('btn-spin').disabled = true;
        document.getElementById('btn-buy').disabled = true;
        document.getElementById('btn-solve').disabled = true;
        this.disableLetterButtons();
    },

    enableControls: function() {
        document.getElementById('btn-spin').disabled = false;
        document.getElementById('btn-buy').disabled = false;
        document.getElementById('btn-solve').disabled = false;
    },

    log: function(msg) {
        document.getElementById('message-log').innerText = msg;
    },

    showPrizeModal: function(title, body, imgUrl) {
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-body').innerText = body;
        const img = document.getElementById('prize-image');
        
        img.style.display = 'none';
        img.src = '';
        if (imgUrl) {
            img.src = imgUrl;
            img.onload = () => img.style.display = 'block';
            img.classList.remove('hidden');
        } else {
            img.classList.add('hidden');
        }

        document.getElementById('prize-selection-container').classList.add('hidden');
        document.getElementById('solve-input').classList.add('hidden');
        document.getElementById('modal-btn-solve-submit').classList.add('hidden');
        document.getElementById('modal-btn-ok').classList.remove('hidden');
        
        document.getElementById('modal-overlay').style.display = 'flex';
    },

    showPrizeSelection: function() {
        document.getElementById('modal-title').innerText = "BONUS ROUND";
        document.getElementById('modal-body').innerText = "Choose your Mystery Prize!";
        document.getElementById('prize-image').classList.add('hidden');
        document.getElementById('solve-input').classList.add('hidden');
        document.getElementById('modal-btn-ok').classList.add('hidden');
        document.getElementById('modal-btn-solve-submit').classList.add('hidden');
        
        document.getElementById('prize-selection-container').classList.remove('hidden');
        document.getElementById('modal-overlay').style.display = 'flex';
    },

    showSolveModal: function() {
        document.getElementById('modal-title').innerText = "SOLVE PUZZLE";
        document.getElementById('modal-body').innerText = "";
        document.getElementById('prize-image').classList.add('hidden');
        document.getElementById('prize-selection-container').classList.add('hidden');
        
        const input = document.getElementById('solve-input');
        input.value = "";
        input.placeholder = "TYPE ANSWER";
        input.classList.remove('hidden');
        
        document.getElementById('modal-btn-ok').classList.add('hidden');
        const submitBtn = document.getElementById('modal-btn-solve-submit');
        submitBtn.classList.remove('hidden');
        submitBtn.onclick = () => Game.submitSolve();

        document.getElementById('modal-overlay').style.display = 'flex';
        input.focus();
    },

    closeModal: function() {
        document.getElementById('modal-overlay').style.display = 'none';
    },

    fireConfetti: function() {
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        let particles = [];
        const colors = ['#FF5555', '#55FFFF', '#55FF55', '#FF55FF', '#FFFF55'];
        
        for(let i=0; i<150; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                vx: (Math.random() - 0.5) * 4,
                vy: Math.random() * 5 + 2,
                color: colors[Math.floor(Math.random() * colors.length)],
                size: Math.random() * 8 + 4
            });
        }

        function update() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            let active = false;
            particles.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;
                if(p.y < canvas.height) active = true;
                
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.size, p.size);
            });
            if(active) requestAnimationFrame(update);
        }
        update();
    }
};

// Start
Game.init();

</script>
</body>
</html>